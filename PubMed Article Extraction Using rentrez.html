<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Rob Heirene">
<meta name="dcterms.date" content="2023-07-11">

<title>PubMed Article Extraction w. rentrez</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="PubMed Article Extraction Using rentrez_files/libs/clipboard/clipboard.min.js"></script>
<script src="PubMed Article Extraction Using rentrez_files/libs/quarto-html/quarto.js"></script>
<script src="PubMed Article Extraction Using rentrez_files/libs/quarto-html/popper.min.js"></script>
<script src="PubMed Article Extraction Using rentrez_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="PubMed Article Extraction Using rentrez_files/libs/quarto-html/anchor.min.js"></script>
<link href="PubMed Article Extraction Using rentrez_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="PubMed Article Extraction Using rentrez_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="PubMed Article Extraction Using rentrez_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="PubMed Article Extraction Using rentrez_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="PubMed Article Extraction Using rentrez_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#preamble" id="toc-preamble" class="nav-link active" data-scroll-target="#preamble">Preamble</a></li>
  <li><a href="#load-packages" id="toc-load-packages" class="nav-link" data-scroll-target="#load-packages">Load packages</a></li>
  <li><a href="#gambling-addiction" id="toc-gambling-addiction" class="nav-link" data-scroll-target="#gambling-addiction">Gambling addiction</a></li>
  <li><a href="#gaming-addiction" id="toc-gaming-addiction" class="nav-link" data-scroll-target="#gaming-addiction">Gaming addiction</a></li>
  <li><a href="#work-addiction" id="toc-work-addiction" class="nav-link" data-scroll-target="#work-addiction">Work addiction</a></li>
  <li><a href="#exercise-addiction" id="toc-exercise-addiction" class="nav-link" data-scroll-target="#exercise-addiction">Exercise addiction</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">PubMed Article Extraction w. rentrez</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Rob Heirene </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 11, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="preamble" class="level2">
<h2 class="anchored" data-anchor-id="preamble">Preamble</h2>
<p>The criteria for inclusion are:</p>
<ul>
<li>The article must be registered/stored on the PubMed database (a list of journals indexed on PubMed can be found <a href="https://ftp.ncbi.nih.gov/pubmed/J_Medline.txt">here</a>).</li>
</ul>
<!-- -->
<ul>
<li><p>The article must focus on a behaviour which has been studied within the context of addiction (e.g., gambling, exercise, video gaming); the behaviour can be the primary focus or a sub-component of a larger paper (e.g., a study on alcohol use which also measures symptoms of gambling disorder)</p></li>
<li><p>The article must use language in the title and/or abstract that indicate that the behaviour is discussed in the context of or as an addiction. This could include, but is not restricted to:</p>
<ul>
<li><p>the direct use of the terms “addiction” or “dependence”</p></li>
<li><p>the use of accepted (DSM/ICD) or previosuly accepted (e.g., “pathological gambling”) diagnostic terms (e.g., “gambling disorder”)</p></li>
<li><p>the use of a term or phrase which is not a clinically/medically accepted diagnostic term (i.e., it is not included in any nosological system), but is used in the research area as such (e.g., “compulsory exercise”, “workaholism”)</p></li>
<li><p>the use of measures of “addiction” to the behaviour (e.g., “Exercise Addiction Inventory”) or measures of the symptoms of addiction (e.g., craving, withdrawal) that are then discussed in the context of a disorder or addiction</p></li>
</ul></li>
<li><p>There are no restrictions on date of publication, study designs, article types (e.g., commentaries, empirical studies etc.)</p></li>
<li><p>There are no restrictions on language publication, provided the title and abstract are presented in English as well as the primary language.</p></li>
</ul>
<p>The above criteria were used to design of the search terms/strings employed to extract data from the PubMed database (the search string for each behavioural addiction is included before the code used to extract the associated studies). A manual scan of all return studies for relevance according to the above criteria has been made.</p>
<p>https://www.youtube.com/watch?v=yzTuBuRdAyA</p>
<div class="callout callout-style-simple callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Code blocks
</div>
</div>
<div class="callout-body-container callout-body">
<p>Please note that any code chunks presented in this document that, when executed, scrape or pull data from PubMed, are specifically set so that they do not execute when this document renders. Thus, these code chunks, as seen here, simply represent documentation rather than working code. This is because extracting this data (particularly for behavioural addictions where there are thousands of studies [e.g., gambling]) can take a substantial amount of time and therefore it would take 30-40 minutes every time this document renders if these code chunks executed.</p>
<p>I only note this for anyone wanting to reproduce this analysis who tries to run the entire script by rendering the document. It’s also important as the date at the top of this document may not be the latest date of data extraction (it is only the last date this was rendered).</p>
<p>The latest dates of data extraction for each behavioural addiction are below:</p>
<ul>
<li>Gambling: 10/07/2023</li>
<li>Gaming: 10/07/2023</li>
<li>Work: 10/07/2023</li>
<li>Exercise: 10/07/2023</li>
</ul>
</div>
</div>
</section>
<section id="load-packages" class="level2">
<h2 class="anchored" data-anchor-id="load-packages">Load packages</h2>
<div class="cell">
<details>
<summary>Set-up code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Install and load the groundhog package to ensure consistency of the package versions used here:</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("groundhog") # Install</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(groundhog) <span class="co"># Load</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># List desired packages:</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>packages <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'rentrez'</span>,</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>              <span class="st">'dplyr'</span>,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>              <span class="st">'tidyr'</span>,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>              <span class="st">'purrr'</span>,</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>              <span class="st">'rvest'</span>,</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>              <span class="st">'stringr'</span>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>              </span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Load desired package with versions specific to project start date:</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="fu">groundhog.library</span>(packages, <span class="st">"2023-06-07"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="gambling-addiction" class="level2">
<h2 class="anchored" data-anchor-id="gambling-addiction">Gambling addiction</h2>
<section id="extract-studies-and-perform-a-basic-clean-of-dataset" class="level4">
<h4 class="anchored" data-anchor-id="extract-studies-and-perform-a-basic-clean-of-dataset">Extract studies and perform a basic clean of dataset</h4>
<p><strong>Notes pre-search:</strong> Mesh terms can be found <a href="https://www.ncbi.nlm.nih.gov/mesh/?term=gaming+disorder">here</a>. I tried adding “problem gambling” and it adds around 1,200 more studies, but the overall distribution over time remains very similar.</p>
<ul>
<li>One unavoidable issue with the gambling search is 2 of the 3 gambling-specific journals (International Gambling Studies &amp; Journal of Gambling Issues) are not indexed by PubMed. That said, most behavioural addiction and addiction-focused journals are, fortunately.</li>
</ul>
<div class="callout callout-style-simple callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Add gambling journals?
</div>
</div>
<div class="callout-body-container callout-body">
<p>A simple reminder to look into this.</p>
</div>
</div>
<p><strong>Actual search used:</strong> (“gambling disorder”[Title/Abstract]) OR (“disordered gambling”[Title/Abstract] OR “gambling addiction”[Title/Abstract]) OR (“addicted gambler*”[Title/Abstract]) OR (“pathological gambl*”[Title/Abstract]) OR (“compulsive gambl*”[Title/Abstract]</p>
<p><strong>Manual search results:</strong> <a href="https://pubmed.ncbi.nlm.nih.gov/?term=%28%22gambling+disorder%22%5BTitle%2FAbstract%5D%29+OR+%28%22disordered+gambling%22%5BTitle%2FAbstract%5D+OR+%22gambling+addiction%22%5BTitle%2FAbstract%5D%29+OR+%28%22addicted+gambler*%22%5BTitle%2FAbstract%5D%29+OR+%28%22pathological+gambl*%22%5BTitle%2FAbstract%5D%29+OR+%28%22compulsive+gambl*%22%5BTitle%2FAbstract%5D%29&amp;size=200">link</a></p>
<p><strong>Notes post-search:</strong> I manually inspected the results directly in the PubMed site. Many duplicates that require removal (performed below), but all studies appeared relevant (July 2023).</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">#  Clean environment:</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the search terms/string:</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>search_term_gambling <span class="ot">&lt;-</span> <span class="st">'("gambling disorder"[Title/Abstract]) OR ("disordered gambling"[Title/Abstract] OR "gambling addiction"[Title/Abstract]) OR ("addicted gambler*"[Title/Abstract]) OR ("pathological gambl*"[Title/Abstract]) OR ("compulsive gambl*"[Title/Abstract])'</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Use entrez_search to get the IDs of the articles:</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>search_results_gambling <span class="ot">&lt;-</span> <span class="fu">entrez_search</span>(<span class="at">db=</span><span class="st">"pubmed"</span>, <span class="at">term=</span>search_term_gambling, <span class="at">retmax=</span><span class="dv">20000</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>id_list_gambling <span class="ot">&lt;-</span> search_results_gambling<span class="sc">$</span>ids</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Split id list into chunks of 500:</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>chunks <span class="ot">&lt;-</span> <span class="fu">split</span>(id_list_gambling, <span class="fu">ceiling</span>(<span class="fu">seq_along</span>(id_list_gambling)<span class="sc">/</span><span class="dv">100</span>))</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Fetch details for each chunk of articles:</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>article_details_gambling <span class="ot">&lt;-</span> <span class="fu">map_dfr</span>(chunks, <span class="cf">function</span>(ids) {</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  articles <span class="ot">&lt;-</span> <span class="fu">entrez_fetch</span>(<span class="at">db=</span><span class="st">"pubmed"</span>, <span class="at">id=</span>ids, <span class="at">rettype=</span><span class="st">"medline"</span>, <span class="at">retmode=</span><span class="st">"text"</span>)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Split the articles into individual articles:</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  articles <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(articles, <span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)[[<span class="dv">1</span>]]</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Process each article:</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map_dfr</span>(articles, <span class="cf">function</span>(article) {</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Split the article into lines:</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>    lines <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(article, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)[[<span class="dv">1</span>]]</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get the details we're interested in:</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>    details_gambling <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>      <span class="at">PMID =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^PMID"</span>, lines))) lines[<span class="fu">grepl</span>(<span class="st">"^PMID"</span>, lines)] <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>      <span class="at">DP =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^DP"</span>, lines))) lines[<span class="fu">grepl</span>(<span class="st">"^DP"</span>, lines)] <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>      <span class="at">TI =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^TI"</span>, lines))) lines[<span class="fu">grepl</span>(<span class="st">"^TI"</span>, lines)] <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>      <span class="at">LID =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^LID"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^LID"</span>, lines)], <span class="at">collapse=</span><span class="st">"; "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>      <span class="at">AB =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^AB"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^AB"</span>, lines)], <span class="at">collapse=</span><span class="st">" "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">FAU =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^FAU"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^FAU"</span>, lines)], <span class="at">collapse=</span><span class="st">"; "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>      <span class="at">AD =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^AD"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^AD"</span>, lines)], <span class="at">collapse=</span><span class="st">"; "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>      <span class="at">LA =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^LA"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^LA"</span>, lines)], <span class="at">collapse=</span><span class="st">"; "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>      <span class="at">PT =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^PT"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^PT"</span>, lines)], <span class="at">collapse=</span><span class="st">"; "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>      <span class="at">TA =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^TA"</span>, lines))) lines[<span class="fu">grepl</span>(<span class="st">"^TA"</span>, lines)] <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>      <span class="at">COIS =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^COIS"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^COIS"</span>, lines)], <span class="at">collapse=</span><span class="st">" "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>      <span class="at">JT =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^JT"</span>, lines))) lines[<span class="fu">grepl</span>(<span class="st">"^JT"</span>, lines)] <span class="cf">else</span> <span class="cn">NA</span></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convert the list of details into a one-row data frame:</span></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>    details_df_gambling <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(details_gambling)</span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(details_df_gambling)</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the results:</span></span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>article_details_gambling <span class="sc">%&gt;%</span></span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a><span class="co"># Let's remove the identifiers at the beginning of each data point:</span></span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a>rep_str <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'PMID- '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'DP  - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'TI  - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'LID - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'AB  - '</span> <span class="ot">=</span> <span class="st">''</span>,</span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>             <span class="st">'FAU - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'AD  - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'LA  - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'PT  - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'TA  - '</span> <span class="ot">=</span> <span class="st">''</span>,</span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a>             <span class="st">'COIS- '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'JT  - '</span> <span class="ot">=</span> <span class="st">''</span>)</span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a>results_gambling <span class="ot">&lt;-</span> article_details_gambling <span class="sc">%&gt;%</span></span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), <span class="sc">~</span><span class="fu">str_replace_all</span>(., rep_str))) <span class="sc">%&gt;%</span> <span class="co"># Remove identifiers</span></span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Now separate the date year and month/day info:</span></span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(DP, <span class="fu">c</span>(<span class="st">"Year"</span>, <span class="st">"Month"</span>), <span class="at">sep =</span> <span class="st">"</span><span class="sc">\\</span><span class="st"> "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">as.numeric</span>(Year)) <span class="sc">%&gt;%</span> <span class="co"># Convert Year to numeric</span></span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>( <span class="co"># Let's also provide more descriptive names for each of the columns</span></span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Title"</span> <span class="ot">=</span> <span class="st">"TI"</span>, </span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a>         <span class="st">"DOI"</span> <span class="ot">=</span> <span class="st">"LID"</span>, </span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Abstract"</span> <span class="ot">=</span> <span class="st">"AB"</span>, </span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Full_Author_Name"</span> <span class="ot">=</span> <span class="st">"FAU"</span>, </span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Author_Address"</span> <span class="ot">=</span> <span class="st">"AD"</span>, </span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Language"</span> <span class="ot">=</span> <span class="st">"LA"</span>, </span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Publication_Type"</span> <span class="ot">=</span> <span class="st">"PT"</span>, </span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Journal_name_short"</span> <span class="ot">=</span> <span class="st">"TA"</span>,</span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Conflict_of_Interest_Statement"</span> <span class="ot">=</span> <span class="st">"COIS"</span>,</span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Journal_Title"</span> <span class="ot">=</span> <span class="st">"JT"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-76"><a href="#cb2-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span>
<span id="cb2-77"><a href="#cb2-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a><span class="co"># Now save the initial results before proceeding so we can't lose them!</span></span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(results_gambling, <span class="st">"Data extraction/gambling_data.csv"</span>, <span class="at">row.names=</span><span class="cn">FALSE</span>)</span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="extract-full-title-using-rvest" class="level4">
<h4 class="anchored" data-anchor-id="extract-full-title-using-rvest">Extract full title using rvest</h4>
<p>Okay, so I’m struggling to get the <code>rentrez</code> package to extract the full, non-truncated titles of articles. I want to make sure we have these so we can accurately identify duplicates, so we’re going to use the <code>rvest</code> package to scrape the titles returned from a manual search in PubMed (it uses the URL from this search), then join the two datasets using the PMID, retaining the title from this new dataset.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Add search URL:</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>url_gambling_rvest <span class="ot">&lt;-</span> <span class="st">"https://pubmed.ncbi.nlm.nih.gov/?term=%28%22gambling+disorder%22%5BTitle%2FAbstract%5D%29+OR+%28%22disordered+gambling%22%5BTitle%2FAbstract%5D+OR+%22gambling+addiction%22%5BTitle%2FAbstract%5D%29+OR+%28%22addicted+gambler*%22%5BTitle%2FAbstract%5D%29+OR+%28%22pathological+gambl*%22%5BTitle%2FAbstract%5D%29+OR+%28%22compulsive+gambl*%22%5BTitle%2FAbstract%5D%29&amp;size=200"</span> <span class="co"># 3502 results on 10/07/2023</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Read and parse the webpage:</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>webpage_gambling_rvest <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url_gambling_rvest)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the total number of search results:</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>results_count_gambling <span class="ot">&lt;-</span> webpage_gambling_rvest <span class="sc">%&gt;%</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_node</span>(<span class="st">".results-amount .value"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_text</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace</span>(<span class="st">","</span>, <span class="st">""</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.numeric</span>()</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the number of pages:</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>results_per_page_gambling <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>total_pages_gambling <span class="ot">&lt;-</span> <span class="fu">ceiling</span>(results_count_gambling[<span class="dv">1</span>] <span class="sc">/</span> results_per_page_gambling)</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Print results_count_gambling and total_pages_gambling:</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(results_count_gambling)</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(total_pages_gambling)</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize an empty data frame:</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>results_gambling_rvest <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through each page and scrape the data:</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (page <span class="cf">in</span> <span class="dv">0</span><span class="sc">:</span>(total_pages_gambling <span class="sc">-</span> <span class="dv">1</span>)) {</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Update the page parameter in the URL for the current page</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>  current_url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(url_gambling_rvest, <span class="st">"&amp;page="</span>, page <span class="sc">+</span> <span class="dv">1</span>)</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read and parse the current webpage:</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>  current_page <span class="ot">&lt;-</span> <span class="fu">read_html</span>(current_url)</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract title:</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>  Title <span class="ot">&lt;-</span> <span class="fu">tryCatch</span>({</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>    current_page <span class="sc">%&gt;%</span></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>      <span class="fu">html_nodes</span>(<span class="st">".docsum-title"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>      <span class="fu">html_text</span>(<span class="at">trim =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>  }, <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Error extracting title"</span>, page <span class="sc">+</span> <span class="dv">1</span>))</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="fu">length</span>(Title))  <span class="co"># Return a vector of NAs with the same length as Title</span></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract the PMID:</span></span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>  pmid <span class="ot">&lt;-</span> current_page <span class="sc">%&gt;%</span></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_nodes</span>(<span class="st">".docsum-pmid"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_text</span>(<span class="at">trim =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a data frame with the extracted data:</span></span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>  current_results_gambling <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Title =</span> Title,</span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">PMID =</span> pmid)</span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Combine the current results with the previous results:</span></span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>  results_gambling_rvest <span class="ot">&lt;-</span> <span class="fu">rbind</span>(results_gambling_rvest, current_results_gambling)</span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Introduce a delay to avoid overloading the server:</span></span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a>  sleep_time <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">1</span>, <span class="at">min =</span> <span class="dv">5</span>, <span class="at">max =</span> <span class="dv">15</span>)</span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">Sys.sleep</span>(sleep_time)</span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the extracted data:</span></span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">as_tibble</span>(results_gambling_rvest))</span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a><span class="co"># Now save the titles results before proceeding so we can't lose them!</span></span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(results_gambling_rvest, <span class="st">"Data extraction/gambling_titles.csv"</span>, <span class="at">row.names=</span><span class="cn">FALSE</span>)</span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="refine-dataset" class="level4">
<h4 class="anchored" data-anchor-id="refine-dataset">Refine dataset</h4>
<p>Now we need to identify and remove any duplicates, irrelevant studies, or entries with any other issues (e.g., those that turn out to be books)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load in first dataset in case environment clean on knit (above sections not executed for render):</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>results_gambling<span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Data extraction/gambling_data.csv"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>()</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Load in second dataset in case environment clean on knit (above sections not executed for render):</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>results_gambling_rvest<span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Data extraction/gambling_titles.csv"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>()</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge the two datasets:</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>results_gambling2 <span class="ot">&lt;-</span> results_gambling <span class="sc">%&gt;%</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"Title_trunc"</span> <span class="ot">=</span> <span class="st">"Title"</span>) <span class="sc">%&gt;%</span> <span class="co"># Designate the truncated title from the primary dataset</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">merge</span>(results_gambling_rvest, <span class="at">by =</span> <span class="st">"PMID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(Title) <span class="sc">%&gt;%</span> <span class="co"># Place full title first for ease</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3,502 × 14
   Title            PMID  Year Month Title_trunc DOI   Abstract Full_Author_Name
   &lt;chr&gt;           &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;           
 1 "Pathological… 3.18e5  1979 Oct   "Pathologi… &lt;NA&gt;   &lt;NA&gt;    Allcock, C C    
 2 "Pathological… 3.18e5  1979 Oct   "Pathologi… &lt;NA&gt;   &lt;NA&gt;    Allcock, C C    
 3 "Games, goods… 3.91e5  1979 Jun   "Games, go… &lt;NA&gt;  "This s… Salter, M A     
 4 "Games, goods… 3.91e5  1979 Jun   "Games, go… &lt;NA&gt;  "This s… Salter, M A     
 5 "Compulsive g… 6.84e5  1978 May   "Compulsiv… &lt;NA&gt;   &lt;NA&gt;    Oldman, D       
 6 "\"Compulsive… 7.21e5  1978 Oct   "\"Compuls… &lt;NA&gt;  "A mode… Kusyszyn, I     
 7 "The compulsi… 7.60e5  1979 Feb   "The compu… &lt;NA&gt;  "The ma… Lesieur, H R    
 8 "The compulsi… 7.60e5  1979 Feb   "The compu… &lt;NA&gt;  "The ma… Lesieur, H R    
 9 "'Compulsive'… 9.29e5  1977 Oct   "'Compulsi… &lt;NA&gt;   &lt;NA&gt;    Dickerson, M    
10 "Pathological… 1.10e6  1975 &lt;NA&gt;  "Pathologi… &lt;NA&gt;   &lt;NA&gt;    Moran, E        
# ℹ 3,492 more rows
# ℹ 6 more variables: Author_Address &lt;chr&gt;, Language &lt;chr&gt;,
#   Publication_Type &lt;chr&gt;, Journal_name_short &lt;chr&gt;,
#   Conflict_of_Interest_Statement &lt;chr&gt;, Journal_Title &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check results:</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co"># View(results_gambling2)</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Check dupliactes based on PMIDs:</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>Simple_duplicate_removal_n <span class="ot">&lt;-</span> results_gambling2 <span class="sc">%&gt;%</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(PMID) <span class="sc">%&gt;%</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
      n
  &lt;int&gt;
1  2953</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>results_gambling2 <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(PMID) <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">n</span>()<span class="sc">&gt;</span><span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,012 × 14
# Groups:   PMID [463]
    Title           PMID  Year Month Title_trunc DOI   Abstract Full_Author_Name
    &lt;chr&gt;          &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;           
  1 Pathological… 3.18e5  1979 Oct   "Pathologi… &lt;NA&gt;   &lt;NA&gt;    Allcock, C C    
  2 Pathological… 3.18e5  1979 Oct   "Pathologi… &lt;NA&gt;   &lt;NA&gt;    Allcock, C C    
  3 Games, goods… 3.91e5  1979 Jun   "Games, go… &lt;NA&gt;  "This s… Salter, M A     
  4 Games, goods… 3.91e5  1979 Jun   "Games, go… &lt;NA&gt;  "This s… Salter, M A     
  5 The compulsi… 7.60e5  1979 Feb   "The compu… &lt;NA&gt;  "The ma… Lesieur, H R    
  6 The compulsi… 7.60e5  1979 Feb   "The compu… &lt;NA&gt;  "The ma… Lesieur, H R    
  7 Pathological… 1.10e6  1975 &lt;NA&gt;  "Pathologi… &lt;NA&gt;   &lt;NA&gt;    Moran, E        
  8 Pathological… 1.10e6  1975 &lt;NA&gt;  "Pathologi… &lt;NA&gt;   &lt;NA&gt;    Moran, E        
  9 The patholog… 1.41e6  1992 Sep   "The patho… &lt;NA&gt;  "Over t… Rosenthal, R J;…
 10 The patholog… 1.41e6  1992 Sep   "The patho… &lt;NA&gt;  "Over t… Rosenthal, R J;…
 11 [Pathologica… 1.51e6  1992 Jun   "[Patholog… &lt;NA&gt;  "The ca… Krag, N J       
 12 [Pathologica… 1.51e6  1992 Jun   "[Patholog… &lt;NA&gt;  "The ca… Krag, N J       
 13 Comparison o… 1.68e6  1991 Sep   "Compariso… &lt;NA&gt;  "Of 120… McConaghy, N; B…
 14 Comparison o… 1.68e6  1991 Sep   "Compariso… &lt;NA&gt;  "Of 120… McConaghy, N; B…
 15 [Nosological… 1.76e6  1991 May   "[Nosologi… &lt;NA&gt;  "Obsess… Hantouche, E; M…
 16 [Nosological… 1.76e6  1991 May   "[Nosologi… &lt;NA&gt;  "Obsess… Hantouche, E; M…
 17 Gambling and… 1.80e6  1991 &lt;NA&gt;  "Gambling … &lt;NA&gt;  "Studen… Lesieur, H R; C…
 18 Gambling and… 1.80e6  1991 &lt;NA&gt;  "Gambling … &lt;NA&gt;  "Studen… Lesieur, H R; C…
 19 Casino-relat… 2.34e6  1990 Jun   "Casino-re… &lt;NA&gt;  "The fi… Jason, D R; Taf…
 20 Casino-relat… 2.34e6  1990 Jun   "Casino-re… &lt;NA&gt;  "The fi… Jason, D R; Taf…
 21 CSF studies … 2.47e6  1989 &lt;NA&gt;  "CSF studi… &lt;NA&gt;  "1. A d… Roy, A; Linnoil…
 22 CSF studies … 2.47e6  1989 &lt;NA&gt;  "CSF studi… &lt;NA&gt;  "1. A d… Roy, A; Linnoil…
 23 Gamblers' se… 2.61e6  1989 Dec   "Gamblers'… &lt;NA&gt;  "Impair… Corless, T; Dic…
 24 Gamblers' se… 2.61e6  1989 Dec   "Gamblers'… &lt;NA&gt;  "Impair… Corless, T; Dic…
 25 CSF GABA and… 2.62e6  1989 Nov   "CSF GABA … &lt;NA&gt;  "We pre… Roy, A; DeJong,…
 26 CSF GABA and… 2.62e6  1989 Nov   "CSF GABA … &lt;NA&gt;  "We pre… Roy, A; DeJong,…
 27 Extraversion… 2.75e6  1989 Aug   "Extravers… &lt;NA&gt;  "Pathol… Roy, A; De Jong…
 28 Extraversion… 2.75e6  1989 Aug   "Extravers… &lt;NA&gt;  "Pathol… Roy, A; De Jong…
 29 Personality … 2.76e6  1989 Jul   "Personali… &lt;NA&gt;  "Pathol… Roy, A; Custer,…
 30 Personality … 2.76e6  1989 Jul   "Personali… &lt;NA&gt;  "Pathol… Roy, A; Custer,…
 31 Behavior com… 2.91e6  1988 Jul   "Behavior … &lt;NA&gt;   &lt;NA&gt;    McConaghy, N; A…
 32 Behavior com… 2.91e6  1988 Jul   "Behavior … &lt;NA&gt;   &lt;NA&gt;    McConaghy, N; A…
 33 Pathological… 3.21e6  1988 Jul   "Pathologi… &lt;NA&gt;   &lt;NA&gt;    Lesieur, H R; H…
 34 Pathological… 3.21e6  1988 Jul   "Pathologi… &lt;NA&gt;   &lt;NA&gt;    Lesieur, H R; H…
 35 Studies in R… 3.39e6  1988 &lt;NA&gt;  "Studies i… &lt;NA&gt;  "Recent… Adams, H B      
 36 Studies in R… 3.39e6  1988 &lt;NA&gt;  "Studies i… &lt;NA&gt;  "Recent… Adams, H B      
 37 Sensation se… 3.46e6  1986 Feb   "Sensation… &lt;NA&gt;   &lt;NA&gt;    Blaszczynski, A…
 38 Sensation se… 3.46e6  1986 Feb   "Sensation… &lt;NA&gt;   &lt;NA&gt;    Blaszczynski, A…
 39 Personality … 3.67e6  1987 Sep   "Personali… &lt;NA&gt;  "Studie… McCormick, R A;…
 40 Personality … 3.67e6  1987 Sep   "Personali… &lt;NA&gt;  "Studie… McCormick, R A;…
 41 Arousal and … 3.79e6  1986 Sep-… "Arousal a… &lt;NA&gt;  "Follow… Brown, R I      
 42 Arousal and … 3.79e6  1986 Sep-… "Arousal a… &lt;NA&gt;  "Follow… Brown, R I      
 43 Impotence as… 3.82e6  1987 Mar   "Impotence… &lt;NA&gt;  "A 49-y… Daghestani, A N 
 44 Impotence as… 3.82e6  1987 Mar   "Impotence… &lt;NA&gt;  "A 49-y… Daghestani, A N 
 45 Pathological… 3.86e6  1985 Sep   "Pathologi… &lt;NA&gt;   &lt;NA&gt;    Blaszczynski, A…
 46 Pathological… 3.86e6  1985 Sep   "Pathologi… &lt;NA&gt;   &lt;NA&gt;    Blaszczynski, A…
 47 Compulsive g… 6.60e6  1984 Dec   "Compulsiv… &lt;NA&gt;   &lt;NA&gt;    Hardwick, C     
 48 Compulsive g… 6.60e6  1984 Dec   "Compulsiv… &lt;NA&gt;   &lt;NA&gt;    Hardwick, C     
 49 New Jersey c… 6.60e6  1984 Dec   "New Jerse… &lt;NA&gt;   &lt;NA&gt;    Klein, R M      
 50 New Jersey c… 6.60e6  1984 Dec   "New Jerse… &lt;NA&gt;   &lt;NA&gt;    Klein, R M      
 51 Patterns of … 6.68e6  1983 &lt;NA&gt;  "Patterns … &lt;NA&gt;  "Increa… Ramirez, L F; M…
 52 Patterns of … 6.68e6  1983 &lt;NA&gt;  "Patterns … &lt;NA&gt;  "Increa… Ramirez, L F; M…
 53 Atypical min… 6.87e6  1983 May-… "Atypical … &lt;NA&gt;   &lt;NA&gt;    Jarvik, L; Kulb…
 54 Atypical min… 6.87e6  1983 May-… "Atypical … &lt;NA&gt;   &lt;NA&gt;    Jarvik, L; Kulb…
 55 Compulsive g… 7.09e6  1982 Apr   "Compulsiv… &lt;NA&gt;  "Twenty… Greenberg, D; R…
 56 Compulsive g… 7.09e6  1982 Apr   "Compulsiv… &lt;NA&gt;  "Twenty… Greenberg, D; R…
 57 Treatment of… 7.14e6  1982 Sep   "Treatment… &lt;NA&gt;   &lt;NA&gt;    Salzmann, M M   
 58 Treatment of… 7.14e6  1982 Sep   "Treatment… &lt;NA&gt;   &lt;NA&gt;    Salzmann, M M   
 59 Cognitive-be… 8.00e6  1994 Apr   "Cognitive… &lt;NA&gt;  "This s… Ladouceur, R; B…
 60 Cognitive-be… 8.00e6  1994 Apr   "Cognitive… &lt;NA&gt;  "This s… Ladouceur, R; B…
 61 Pathological… 8.25e6  1993 &lt;NA&gt;  "Pathologi… &lt;NA&gt;  "Both p… Lesieur, H R; B…
 62 Pathological… 8.25e6  1993 &lt;NA&gt;  "Pathologi… &lt;NA&gt;  "Both p… Lesieur, H R; B…
 63 Correlates o… 8.31e6  1993 Sep-… "Correlate… &lt;NA&gt;  "The So… Templer, D I; K…
 64 Correlates o… 8.31e6  1993 Sep-… "Correlate… &lt;NA&gt;  "The So… Templer, D I; K…
 65 Epidemiology… 8.47e6  1993 Mar   "Epidemiol… &lt;NA&gt;  "Thirty… Bland, R C; New…
 66 Epidemiology… 8.47e6  1993 Mar   "Epidemiol… &lt;NA&gt;  "Thirty… Bland, R C; New…
 67 Pathological… 1.17e7  2001 Oct   "Pathologi… &lt;NA&gt;   &lt;NA&gt;    Bondolfi, G; La…
 68 Pathological… 1.17e7  2001 Oct   "Pathologi… &lt;NA&gt;   &lt;NA&gt;    Bondolfi, G; La…
 69 Cognitive tr… 1.18e7  2001 Nov   "Cognitive… &lt;NA&gt;  "This s… Ladouceur, R; S…
 70 Cognitive tr… 1.18e7  2001 Nov   "Cognitive… &lt;NA&gt;  "This s… Ladouceur, R; S…
 71 Frontal lobe… 1.20e7  2002 Feb   "Frontal l… &lt;NA&gt;  "BACKGR… Cavedini, Paolo…
 72 Frontal lobe… 1.20e7  2002 Feb   "Frontal l… &lt;NA&gt;  "BACKGR… Cavedini, Paolo…
 73 Drugs can tr… 1.20e7  2002 Feb   "Drugs can… &lt;NA&gt;  "Dopami… &lt;NA&gt;            
 74 Drugs can tr… 1.20e7  2002 Feb   "Drugs can… &lt;NA&gt;  "Dopami… &lt;NA&gt;            
 75 Pathological… 1.21e7  2002 Jun   "Pathologi… &lt;NA&gt;  "OBJECT… Maccallum, Fion…
 76 Pathological… 1.21e7  2002 Jun   "Pathologi… &lt;NA&gt;  "OBJECT… Maccallum, Fion…
 77 Pathological… 1.21e7  2002 May-… "Pathologi… &lt;NA&gt;  "Accumu… Toneatto, Tony;…
 78 Pathological… 1.21e7  2002 May-… "Pathologi… &lt;NA&gt;  "Accumu… Toneatto, Tony;…
 79 Suicidal ide… 1.21e7  2002 Jul   "Suicidal … &lt;NA&gt;  "This s… Petry, Nancy M;…
 80 Suicidal ide… 1.21e7  2002 Jul   "Suicidal … &lt;NA&gt;  "This s… Petry, Nancy M;…
 81 A factor-ana… 1.22e7  2002 Aug   "A factor-… &lt;NA&gt;  "Eviden… Charlton, John P
 82 A factor-ana… 1.22e7  2002 Aug   "A factor-… &lt;NA&gt;  "Eviden… Charlton, John P
 83 Gender diffe… 1.22e7  2002 Aug   "Gender di… &lt;NA&gt;  "This s… Ladd, George T;…
 84 Gender diffe… 1.22e7  2002 Aug   "Gender di… &lt;NA&gt;  "This s… Ladd, George T;…
 85 The South Oa… 1.24e7  2002 Fall  "The South… &lt;NA&gt;  "The So… Battersby, Malc…
 86 The South Oa… 1.24e7  2002 Fall  "The South… &lt;NA&gt;  "The So… Battersby, Malc…
 87 Pathological… 1.24e7  2002 Sep-… "Pathologi… &lt;NA&gt;  "Pathol… Martins, Silvia…
 88 Pathological… 1.24e7  2002 Sep-… "Pathologi… &lt;NA&gt;  "Pathol… Martins, Silvia…
 89 Reliability,… 1.25e7  2003 Jan   "Reliabili… &lt;NA&gt;  "OBJECT… Stinchfield, Ra…
 90 Reliability,… 1.25e7  2003 Jan   "Reliabili… &lt;NA&gt;  "OBJECT… Stinchfield, Ra…
 91 Characterist… 1.25e7  2003 Jan-… "Character… &lt;NA&gt;  "The ga… Gotestam, K Gun…
 92 Characterist… 1.25e7  2003 Jan-… "Character… &lt;NA&gt;  "The ga… Gotestam, K Gun…
 93 Gambling par… 1.25e7  2002 Wint… "Gambling … &lt;NA&gt;  "Demogr… Welte, John W; …
 94 Gambling par… 1.25e7  2002 Wint… "Gambling … &lt;NA&gt;  "Demogr… Welte, John W; …
 95 Pathological… 1.25e7  2002 Nov-… "Pathologi… &lt;NA&gt;   &lt;NA&gt;    Dineen, E       
 96 Pathological… 1.25e7  2002 Nov-… "Pathologi… &lt;NA&gt;   &lt;NA&gt;    Dineen, E       
 97 Are there co… 1.26e7  2003 Feb   "Are there… &lt;NA&gt;  "OBJECT… Tavares, Herman…
 98 Are there co… 1.26e7  2003 Feb   "Are there… &lt;NA&gt;  "OBJECT… Tavares, Herman…
 99 A population… 1.27e7  2003 Spri… "A populat… &lt;NA&gt;  "The as… Newman, Stephen…
100 A population… 1.27e7  2003 Spri… "A populat… &lt;NA&gt;  "The as… Newman, Stephen…
# ℹ 912 more rows
# ℹ 6 more variables: Author_Address &lt;chr&gt;, Language &lt;chr&gt;,
#   Publication_Type &lt;chr&gt;, Journal_name_short &lt;chr&gt;,
#   Conflict_of_Interest_Statement &lt;chr&gt;, Journal_Title &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove these asap as they're clear duplicates:</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>results_gambling_sans_duplicates<span class="ot">&lt;-</span> results_gambling2 <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(PMID, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,953 × 14
   Title            PMID  Year Month Title_trunc DOI   Abstract Full_Author_Name
   &lt;chr&gt;           &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;           
 1 "Pathological… 3.18e5  1979 Oct   "Pathologi… &lt;NA&gt;   &lt;NA&gt;    Allcock, C C    
 2 "Games, goods… 3.91e5  1979 Jun   "Games, go… &lt;NA&gt;  "This s… Salter, M A     
 3 "Compulsive g… 6.84e5  1978 May   "Compulsiv… &lt;NA&gt;   &lt;NA&gt;    Oldman, D       
 4 "\"Compulsive… 7.21e5  1978 Oct   "\"Compuls… &lt;NA&gt;  "A mode… Kusyszyn, I     
 5 "The compulsi… 7.60e5  1979 Feb   "The compu… &lt;NA&gt;  "The ma… Lesieur, H R    
 6 "'Compulsive'… 9.29e5  1977 Oct   "'Compulsi… &lt;NA&gt;   &lt;NA&gt;    Dickerson, M    
 7 "Pathological… 1.10e6  1975 &lt;NA&gt;  "Pathologi… &lt;NA&gt;   &lt;NA&gt;    Moran, E        
 8 "The patholog… 1.41e6  1992 Sep   "The patho… &lt;NA&gt;  "Over t… Rosenthal, R J;…
 9 "Borderline o… 1.42e6  1992 Aug   "Borderlin… &lt;NA&gt;  "Border… Selzer, J       
10 "Diagnoses ar… 1.42e6  1992 Nov   "Diagnoses… &lt;NA&gt;  "The ps… Mindham, R H; S…
# ℹ 2,943 more rows
# ℹ 6 more variables: Author_Address &lt;chr&gt;, Language &lt;chr&gt;,
#   Publication_Type &lt;chr&gt;, Journal_name_short &lt;chr&gt;,
#   Conflict_of_Interest_Statement &lt;chr&gt;, Journal_Title &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Total number with basic duplication removal based on title (there are some distinct papers with the same title like "gambling disorder", so this is too simplified, but it'll do for a quick check):</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>Simple_duplicate_removal_n <span class="ot">&lt;-</span> results_gambling2 <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(Title) <span class="sc">%&gt;%</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
      n
  &lt;int&gt;
1  2931</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># How many duplicates (based on title alone) does this remove?</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span>(results_gambling_sans_duplicates) <span class="sc">-</span> Simple_duplicate_removal_n </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   n
1 22</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Have a look at duplicates where the title, year, and authors are all the same:</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>results_gambling_sans_duplicates <span class="sc">%&gt;%</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Title, Journal_name_short, Full_Author_Name) <span class="sc">%&gt;%</span> </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">n</span>()<span class="sc">&gt;</span><span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 14
# Groups:   Title, Journal_name_short, Full_Author_Name [0]
# ℹ 14 variables: Title &lt;chr&gt;, PMID &lt;int&gt;, Year &lt;int&gt;, Month &lt;chr&gt;,
#   Title_trunc &lt;chr&gt;, DOI &lt;chr&gt;, Abstract &lt;chr&gt;, Full_Author_Name &lt;chr&gt;,
#   Author_Address &lt;chr&gt;, Language &lt;chr&gt;, Publication_Type &lt;chr&gt;,
#   Journal_name_short &lt;chr&gt;, Conflict_of_Interest_Statement &lt;chr&gt;,
#   Journal_Title &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Have a look at duplicates were just the title, journal and year are the same:</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>results_gambling_sans_duplicates <span class="sc">%&gt;%</span> </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Title, Journal_name_short, Year) <span class="sc">%&gt;%</span> </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">n</span>()<span class="sc">&gt;</span><span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># View()</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 14
# Groups:   Title, Journal_name_short, Year [2]
  Title             PMID  Year Month Title_trunc DOI   Abstract Full_Author_Name
  &lt;chr&gt;            &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;           
1 Gambling disor… 3.13e7  2019 Jul   Gambling d… 10.1… "Gambli… Potenza, Marc N…
2 Gambling disor… 3.13e7  2019 Jul   Gambling d… 10.1…  &lt;NA&gt;    &lt;NA&gt;            
3 Gambling disor… 3.56e7  2022 Jun   Gambling d… S221…  &lt;NA&gt;    van Schalkwyk, …
4 Gambling disor… 3.56e7  2022 Jun   Gambling d… S221…  &lt;NA&gt;    Suanes, Patrici…
# ℹ 6 more variables: Author_Address &lt;chr&gt;, Language &lt;chr&gt;,
#   Publication_Type &lt;chr&gt;, Journal_name_short &lt;chr&gt;,
#   Conflict_of_Interest_Statement &lt;chr&gt;, Journal_Title &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># There are a few more of these, suggesting there are some papers with the same title, journal and date but different authors. </span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co"># The only one of concern is this one (PMID: 31346181) which is  agraphical abstract for another paper by the looks. </span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove duplicates based on above observation:</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>results_gambling_sans_duplicates2<span class="ot">&lt;-</span> results_gambling_sans_duplicates <span class="sc">%&gt;%</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(PMID <span class="sc">!=</span> <span class="st">"31346181"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,952 × 14
   Title            PMID  Year Month Title_trunc DOI   Abstract Full_Author_Name
   &lt;chr&gt;           &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;           
 1 "Pathological… 3.18e5  1979 Oct   "Pathologi… &lt;NA&gt;   &lt;NA&gt;    Allcock, C C    
 2 "Games, goods… 3.91e5  1979 Jun   "Games, go… &lt;NA&gt;  "This s… Salter, M A     
 3 "Compulsive g… 6.84e5  1978 May   "Compulsiv… &lt;NA&gt;   &lt;NA&gt;    Oldman, D       
 4 "\"Compulsive… 7.21e5  1978 Oct   "\"Compuls… &lt;NA&gt;  "A mode… Kusyszyn, I     
 5 "The compulsi… 7.60e5  1979 Feb   "The compu… &lt;NA&gt;  "The ma… Lesieur, H R    
 6 "'Compulsive'… 9.29e5  1977 Oct   "'Compulsi… &lt;NA&gt;   &lt;NA&gt;    Dickerson, M    
 7 "Pathological… 1.10e6  1975 &lt;NA&gt;  "Pathologi… &lt;NA&gt;   &lt;NA&gt;    Moran, E        
 8 "The patholog… 1.41e6  1992 Sep   "The patho… &lt;NA&gt;  "Over t… Rosenthal, R J;…
 9 "Borderline o… 1.42e6  1992 Aug   "Borderlin… &lt;NA&gt;  "Border… Selzer, J       
10 "Diagnoses ar… 1.42e6  1992 Nov   "Diagnoses… &lt;NA&gt;  "The ps… Mindham, R H; S…
# ℹ 2,942 more rows
# ℹ 6 more variables: Author_Address &lt;chr&gt;, Language &lt;chr&gt;,
#   Publication_Type &lt;chr&gt;, Journal_name_short &lt;chr&gt;,
#   Conflict_of_Interest_Statement &lt;chr&gt;, Journal_Title &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check this has removed the duplicate:</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span>(results_gambling_sans_duplicates) <span class="sc">-</span> <span class="fu">count</span>(results_gambling_sans_duplicates2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  n
1 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#  Okay, now we have a clean dataset, let's explore!</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary of the Year  variable:</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(results_gambling_sans_duplicates2<span class="sc">$</span>Year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   1961    2008    2015    2013    2019    2023 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Number of publications per year:</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>Gambling_hist<span class="ot">&lt;-</span> <span class="fu">hist</span>(results_gambling_sans_duplicates2<span class="sc">$</span>Year,</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">1960</span>,<span class="dv">2023</span>),</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="dv">60</span>,</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">main =</span> <span class="st">"Papers published per year on Gambling Disorder (PubMed)"</span>,</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">xlab =</span> <span class="st">"Year"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PubMed-Article-Extraction-Using-rentrez_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Number of separate journals:</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>results_gambling_sans_duplicates2 <span class="sc">%&gt;%</span> </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(Journal_name_short) <span class="sc">%&gt;%</span> </span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Journal_name_short) <span class="sc">%&gt;%</span> </span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">50</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 603 × 1
   Journal_name_short                          
   &lt;chr&gt;                                       
 1 ACS Chem Neurosci                           
 2 AIDS Care                                   
 3 Acta Med Port                               
 4 Acta Neurol Belg                            
 5 Acta Neuropsychiatr                         
 6 Acta Psychiatr Scand                        
 7 Acta Psychother Psychosom                   
 8 Actas Esp Psiquiatr                         
 9 Actas Luso Esp Neurol Psiquiatr Cienc Afines
10 Addict Behav                                
11 Addict Behav Rep                            
12 Addict Biol                                 
13 Addict Health                               
14 Addiction                                   
15 Adicciones                                  
16 Adolesc Health Med Ther                     
17 Adv Exp Med Biol                            
18 Adv Pharmacol                               
19 Aging Ment Health                           
20 Alcohol Alcohol                             
21 Alcohol Clin Exp Res                        
22 Am Indian Alsk Native Ment Health Res       
23 Am J Addict                                 
24 Am J Drug Alcohol Abuse                     
25 Am J Epidemiol                              
26 Am J Forensic Med Pathol                    
27 Am J Geriatr Psychiatry                     
28 Am J Health Behav                           
29 Am J Ind Med                                
30 Am J Orthopsychiatry                        
31 Am J Pharm Educ                             
32 Am J Psychiatry                             
33 Am J Psychoanal                             
34 Am J Psychother                             
35 Am J Public Health                          
36 Am J Ther                                   
37 Am Psychol                                  
38 An Sist Sanit Navar                         
39 Anal Gambl Behav                            
40 Ann Acad Med Singap                         
41 Ann Agric Environ Med                       
42 Ann Clin Psychiatry                         
43 Ann Gen Psychiatry                          
44 Ann Ig                                      
45 Ann Indian Acad Neurol                      
46 Ann Ist Super Sanita                        
47 Ann Med Psychol (Paris)                     
48 Ann N Y Acad Sci                            
49 Ann Neurol                                  
50 Ann Pharmacother                            
# ℹ 553 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Most popular journals:</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>results_gambling_sans_duplicates2 <span class="sc">%&gt;%</span> </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Journal_name_short) <span class="sc">%&gt;%</span> </span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>()</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">50</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 603 × 2
   Journal_name_short                            n
   &lt;chr&gt;                                     &lt;int&gt;
 1 J Gambl Stud                                487
 2 J Behav Addict                              139
 3 Addict Behav                                121
 4 Addiction                                    78
 5 Psychiatry Res                               71
 6 Front Psychiatry                             63
 7 Psychol Addict Behav                         51
 8 Front Psychol                                46
 9 Int J Environ Res Public Health              39
10 PLoS One                                     30
11 Compr Psychiatry                             29
12 Am J Addict                                  27
13 Mov Disord                                   27
14 Can J Psychiatry                             23
15 CNS Spectr                                   21
16 J Clin Psychiatry                            20
17 J Psychiatr Res                              20
18 Parkinsonism Relat Disord                    19
19 Addict Biol                                  18
20 Am J Psychiatry                              18
21 Ann Clin Psychiatry                          18
22 Neuropsychopharmacology                      18
23 J Addict Med                                 17
24 Neurosci Biobehav Rev                        17
25 Psychol Rep                                  17
26 Prog Neuropsychopharmacol Biol Psychiatry    16
27 BMC Psychiatry                               15
28 Br J Psychiatry                              15
29 J Addict Dis                                 15
30 Front Behav Neurosci                         14
31 J Neurosci                                   14
32 Psychol Med                                  14
33 Sci Rep                                      14
34 Adicciones                                   13
35 Drug Alcohol Depend                          13
36 Psychopharmacology (Berl)                    13
37 Subst Use Misuse                             13
38 Biol Psychiatry                              12
39 Braz J Psychiatry                            12
40 Encephale                                    12
41 Eur Neuropsychopharmacol                     12
42 J Clin Med                                   12
43 J Nerv Ment Dis                              12
44 Zh Nevrol Psikhiatr Im S S Korsakova         12
45 Acta Psychiatr Scand                         11
46 Clin Neuropharmacol                          11
47 Curr Addict Rep                              11
48 J Affect Disord                              11
49 Behav Brain Res                              10
50 Eur Addict Res                               10
# ℹ 553 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View(results_gambling_sans_duplicates) # Visually inspect results</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Now I need to add a label to all of these studies to signify that they Were returned from the gambling search so that we can distinguish them from other studies when we later joined the datasets together:</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span>(results_gambling_sans_duplicates2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
      n
  &lt;int&gt;
1  2952</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>Label <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">"gambling"</span>, <span class="at">times =</span> <span class="fu">count</span>(results_gambling_sans_duplicates2))</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>results_gambling_final <span class="ot">&lt;-</span> results_gambling_sans_duplicates2 <span class="sc">%&gt;%</span> <span class="fu">bind_cols</span>(Label) <span class="sc">%&gt;%</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Label =</span> <span class="dv">14</span>) <span class="sc">%&gt;%</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...15`</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,952 × 15
   Title            PMID  Year Month Title_trunc DOI   Abstract Full_Author_Name
   &lt;chr&gt;           &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;           
 1 "Pathological… 3.18e5  1979 Oct   "Pathologi… &lt;NA&gt;   &lt;NA&gt;    Allcock, C C    
 2 "Games, goods… 3.91e5  1979 Jun   "Games, go… &lt;NA&gt;  "This s… Salter, M A     
 3 "Compulsive g… 6.84e5  1978 May   "Compulsiv… &lt;NA&gt;   &lt;NA&gt;    Oldman, D       
 4 "\"Compulsive… 7.21e5  1978 Oct   "\"Compuls… &lt;NA&gt;  "A mode… Kusyszyn, I     
 5 "The compulsi… 7.60e5  1979 Feb   "The compu… &lt;NA&gt;  "The ma… Lesieur, H R    
 6 "'Compulsive'… 9.29e5  1977 Oct   "'Compulsi… &lt;NA&gt;   &lt;NA&gt;    Dickerson, M    
 7 "Pathological… 1.10e6  1975 &lt;NA&gt;  "Pathologi… &lt;NA&gt;   &lt;NA&gt;    Moran, E        
 8 "The patholog… 1.41e6  1992 Sep   "The patho… &lt;NA&gt;  "Over t… Rosenthal, R J;…
 9 "Borderline o… 1.42e6  1992 Aug   "Borderlin… &lt;NA&gt;  "Border… Selzer, J       
10 "Diagnoses ar… 1.42e6  1992 Nov   "Diagnoses… &lt;NA&gt;  "The ps… Mindham, R H; S…
# ℹ 2,942 more rows
# ℹ 7 more variables: Author_Address &lt;chr&gt;, Language &lt;chr&gt;,
#   Publication_Type &lt;chr&gt;, Journal_name_short &lt;chr&gt;,
#   Conflict_of_Interest_Statement &lt;chr&gt;, Label &lt;chr&gt;, ...15 &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View(results_gambling_final)</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Now save the cleaned results:</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(results_gambling_final, <span class="st">"Data extraction/gambling_data_cleaned.csv"</span>, <span class="at">row.names=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="gaming-addiction" class="level2">
<h2 class="anchored" data-anchor-id="gaming-addiction">Gaming addiction</h2>
<section id="extract-studies-and-perform-a-basic-clean-of-dataset-1" class="level4">
<h4 class="anchored" data-anchor-id="extract-studies-and-perform-a-basic-clean-of-dataset-1">Extract studies and perform a basic clean of dataset</h4>
<p><strong>Notes pre-search:</strong> Mesh terms can be found <a href="https://www.ncbi.nlm.nih.gov/mesh/?term=gaming+disorder">here</a>. Didn’t use all of these terms as some relate to other behavioural addictions</p>
<p><strong>Actual search used:</strong> (((((“gaming disorder”[Title/Abstract]) OR (“internet gaming disorder”[Title/Abstract])) OR (“gaming addiction”[Title/Abstract])) OR (“video game addiction”[Title/Abstract])) OR (“video game disorder”[Title/Abstract])) OR (“gaming dependence”)</p>
<p><strong>Manual search results:</strong> <a href="https://pubmed.ncbi.nlm.nih.gov/?term=%28%28%28%28%28%22gaming+disorder%22%5BTitle%2FAbstract%5D%29+OR+%28%22internet+gaming+disorder%22%5BTitle%2FAbstract%5D%29%29+OR+%28%22gaming+addiction%22%5BTitle%2FAbstract%5D%29%29+OR+%28%22video+game+addiction%22%5BTitle%2FAbstract%5D%29%29+OR+%28%22video+game+disorder%22%5BTitle%2FAbstract%5D%29%29+OR+%28%22gaming+dependence%22%29&amp;size=200">link</a></p>
<p><strong>Notes post-search:</strong> “video game dependence” returned no results and so was removed. I manually inspected the results directly in the PubMed site and all appeared relevant (July 2023).</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="co">#  Clean environment:</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="co"># rm(list = ls())</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the search terms/string:</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>search_term_gaming <span class="ot">&lt;-</span> <span class="st">'((((("gaming disorder"[Title/Abstract]) OR ("internet gaming disorder"[Title/Abstract])) OR ("gaming addiction"[Title/Abstract])) OR ("video game addiction"[Title/Abstract])) OR ("video game disorder"[Title/Abstract])) OR ("gaming dependence")'</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Use entrez_search to get the IDs of the articles:</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>search_results_gaming <span class="ot">&lt;-</span> <span class="fu">entrez_search</span>(<span class="at">db=</span><span class="st">"pubmed"</span>, <span class="at">term=</span>search_term_gaming, <span class="at">retmax=</span><span class="dv">20000</span>)</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>id_list_gaming <span class="ot">&lt;-</span> search_results_gaming<span class="sc">$</span>ids</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Split id list into chunks of 500:</span></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>chunks <span class="ot">&lt;-</span> <span class="fu">split</span>(id_list_gaming, <span class="fu">ceiling</span>(<span class="fu">seq_along</span>(id_list_gaming)<span class="sc">/</span><span class="dv">100</span>))</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Fetch details for each chunk of articles:</span></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>article_details_gaming <span class="ot">&lt;-</span> <span class="fu">map_dfr</span>(chunks, <span class="cf">function</span>(ids) {</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fetch details of the articles:</span></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>  articles <span class="ot">&lt;-</span> <span class="fu">entrez_fetch</span>(<span class="at">db=</span><span class="st">"pubmed"</span>, <span class="at">id=</span>ids, <span class="at">rettype=</span><span class="st">"medline"</span>, <span class="at">retmode=</span><span class="st">"text"</span>)</span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Split the articles into individual articles:</span></span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>  articles <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(articles, <span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)[[<span class="dv">1</span>]]</span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Process each article:</span></span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map_dfr</span>(articles, <span class="cf">function</span>(article) {</span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Split the article into lines:</span></span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a>    lines <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(article, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)[[<span class="dv">1</span>]]</span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get the details we're interested in:</span></span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a>    details_gaming <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb37-30"><a href="#cb37-30" aria-hidden="true" tabindex="-1"></a>      <span class="at">PMID =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^PMID"</span>, lines))) lines[<span class="fu">grepl</span>(<span class="st">"^PMID"</span>, lines)] <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb37-31"><a href="#cb37-31" aria-hidden="true" tabindex="-1"></a>      <span class="at">DP =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^DP"</span>, lines))) lines[<span class="fu">grepl</span>(<span class="st">"^DP"</span>, lines)] <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb37-32"><a href="#cb37-32" aria-hidden="true" tabindex="-1"></a>      <span class="at">TI =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^TI"</span>, lines))) lines[<span class="fu">grepl</span>(<span class="st">"^TI"</span>, lines)] <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb37-33"><a href="#cb37-33" aria-hidden="true" tabindex="-1"></a>      <span class="at">LID =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^LID"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^LID"</span>, lines)], <span class="at">collapse=</span><span class="st">"; "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb37-34"><a href="#cb37-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">AB =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^AB"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^AB"</span>, lines)], <span class="at">collapse=</span><span class="st">" "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb37-35"><a href="#cb37-35" aria-hidden="true" tabindex="-1"></a>      <span class="at">FAU =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^FAU"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^FAU"</span>, lines)], <span class="at">collapse=</span><span class="st">"; "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb37-36"><a href="#cb37-36" aria-hidden="true" tabindex="-1"></a>      <span class="at">AD =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^AD"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^AD"</span>, lines)], <span class="at">collapse=</span><span class="st">"; "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb37-37"><a href="#cb37-37" aria-hidden="true" tabindex="-1"></a>      <span class="at">LA =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^LA"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^LA"</span>, lines)], <span class="at">collapse=</span><span class="st">"; "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb37-38"><a href="#cb37-38" aria-hidden="true" tabindex="-1"></a>      <span class="at">PT =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^PT"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^PT"</span>, lines)], <span class="at">collapse=</span><span class="st">"; "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb37-39"><a href="#cb37-39" aria-hidden="true" tabindex="-1"></a>      <span class="at">TA =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^TA"</span>, lines))) lines[<span class="fu">grepl</span>(<span class="st">"^TA"</span>, lines)] <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb37-40"><a href="#cb37-40" aria-hidden="true" tabindex="-1"></a>      <span class="at">COIS =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^COIS"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^COIS"</span>, lines)], <span class="at">collapse=</span><span class="st">" "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb37-41"><a href="#cb37-41" aria-hidden="true" tabindex="-1"></a>      <span class="at">JT =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^JT"</span>, lines))) lines[<span class="fu">grepl</span>(<span class="st">"^JT"</span>, lines)] <span class="cf">else</span> <span class="cn">NA</span></span>
<span id="cb37-42"><a href="#cb37-42" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb37-43"><a href="#cb37-43" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb37-44"><a href="#cb37-44" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convert the list of details into a one-row data frame:</span></span>
<span id="cb37-45"><a href="#cb37-45" aria-hidden="true" tabindex="-1"></a>    details_df_gaming <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(details_gaming)</span>
<span id="cb37-46"><a href="#cb37-46" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb37-47"><a href="#cb37-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(details_df_gaming)</span>
<span id="cb37-48"><a href="#cb37-48" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb37-49"><a href="#cb37-49" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb37-50"><a href="#cb37-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-51"><a href="#cb37-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the results:</span></span>
<span id="cb37-52"><a href="#cb37-52" aria-hidden="true" tabindex="-1"></a>article_details_gaming <span class="sc">%&gt;%</span></span>
<span id="cb37-53"><a href="#cb37-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb37-54"><a href="#cb37-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span>
<span id="cb37-55"><a href="#cb37-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-56"><a href="#cb37-56" aria-hidden="true" tabindex="-1"></a><span class="co"># Let's remove the identifiers at the beginning of each data point:</span></span>
<span id="cb37-57"><a href="#cb37-57" aria-hidden="true" tabindex="-1"></a>rep_str <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'PMID- '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'DP  - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'TI  - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'LID - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'AB  - '</span> <span class="ot">=</span> <span class="st">''</span>,</span>
<span id="cb37-58"><a href="#cb37-58" aria-hidden="true" tabindex="-1"></a>             <span class="st">'FAU - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'AD  - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'LA  - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'PT  - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'TA  - '</span> <span class="ot">=</span> <span class="st">''</span>,</span>
<span id="cb37-59"><a href="#cb37-59" aria-hidden="true" tabindex="-1"></a>             <span class="st">'COIS- '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'JT  - '</span> <span class="ot">=</span> <span class="st">''</span>)</span>
<span id="cb37-60"><a href="#cb37-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-61"><a href="#cb37-61" aria-hidden="true" tabindex="-1"></a>results_gaming <span class="ot">&lt;-</span> article_details_gaming <span class="sc">%&gt;%</span></span>
<span id="cb37-62"><a href="#cb37-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), <span class="sc">~</span><span class="fu">str_replace_all</span>(., rep_str))) <span class="sc">%&gt;%</span> <span class="co"># Remove identifiers</span></span>
<span id="cb37-63"><a href="#cb37-63" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Now separate the date year and month/day info:</span></span>
<span id="cb37-64"><a href="#cb37-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(DP, <span class="fu">c</span>(<span class="st">"Year"</span>, <span class="st">"Month"</span>), <span class="at">sep =</span> <span class="st">"</span><span class="sc">\\</span><span class="st"> "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb37-65"><a href="#cb37-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">as.numeric</span>(Year)) <span class="sc">%&gt;%</span> <span class="co"># Convert Year to numeric</span></span>
<span id="cb37-66"><a href="#cb37-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="co"># Let's also provide more descriptive names for each of the columns</span></span>
<span id="cb37-67"><a href="#cb37-67" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Title"</span> <span class="ot">=</span> <span class="st">"TI"</span>, </span>
<span id="cb37-68"><a href="#cb37-68" aria-hidden="true" tabindex="-1"></a>         <span class="st">"DOI"</span> <span class="ot">=</span> <span class="st">"LID"</span>, </span>
<span id="cb37-69"><a href="#cb37-69" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Abstract"</span> <span class="ot">=</span> <span class="st">"AB"</span>, </span>
<span id="cb37-70"><a href="#cb37-70" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Full_Author_Name"</span> <span class="ot">=</span> <span class="st">"FAU"</span>, </span>
<span id="cb37-71"><a href="#cb37-71" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Author_Address"</span> <span class="ot">=</span> <span class="st">"AD"</span>, </span>
<span id="cb37-72"><a href="#cb37-72" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Language"</span> <span class="ot">=</span> <span class="st">"LA"</span>, </span>
<span id="cb37-73"><a href="#cb37-73" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Publication_Type"</span> <span class="ot">=</span> <span class="st">"PT"</span>, </span>
<span id="cb37-74"><a href="#cb37-74" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Journal_name_short"</span> <span class="ot">=</span> <span class="st">"TA"</span>,</span>
<span id="cb37-75"><a href="#cb37-75" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Conflict_of_Interest_Statement"</span> <span class="ot">=</span> <span class="st">"COIS"</span>,</span>
<span id="cb37-76"><a href="#cb37-76" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Journal_Title"</span> <span class="ot">=</span> <span class="st">"JT"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb37-77"><a href="#cb37-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span>
<span id="cb37-78"><a href="#cb37-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-79"><a href="#cb37-79" aria-hidden="true" tabindex="-1"></a><span class="co"># Now save the initial results before proceeding so we can't lose them!</span></span>
<span id="cb37-80"><a href="#cb37-80" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(results_gaming, <span class="st">"Data extraction/gaming_data.csv"</span>, <span class="at">row.names=</span><span class="cn">FALSE</span>)</span>
<span id="cb37-81"><a href="#cb37-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-82"><a href="#cb37-82" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="extract-full-title-using-rvest-1" class="level4">
<h4 class="anchored" data-anchor-id="extract-full-title-using-rvest-1">Extract full title using rvest</h4>
<p>As with the gambling study extraction, we’re going to use the <code>rvest</code> package to scrape the titles returned from the manual search in PubMed, then join the two datasets using the PMID, retaining the title from this new dataset.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Add search URL:</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>url_gaming_rvest <span class="ot">&lt;-</span> <span class="st">"https://pubmed.ncbi.nlm.nih.gov/?term=%28%28%28%28%28%22gaming+disorder%22%5BTitle%2FAbstract%5D%29+OR+%28%22internet+gaming+disorder%22%5BTitle%2FAbstract%5D%29%29+OR+%28%22gaming+addiction%22%5BTitle%2FAbstract%5D%29%29+OR+%28%22video+game+addiction%22%5BTitle%2FAbstract%5D%29%29+OR+%28%22video+game+disorder%22%5BTitle%2FAbstract%5D%29%29+OR+%28%22gaming+dependence%22%29&amp;size=200"</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Read and parse the webpage</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>webpage_gaming_rvest <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url_gaming_rvest)</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the total number of search results</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>results_count_gaming <span class="ot">&lt;-</span> webpage_gaming_rvest <span class="sc">%&gt;%</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_node</span>(<span class="st">".results-amount .value"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_text</span>() <span class="sc">%&gt;%</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace</span>(<span class="st">","</span>, <span class="st">""</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.numeric</span>()</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the number of pages</span></span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>results_per_page_gaming <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>total_pages_gaming <span class="ot">&lt;-</span> <span class="fu">ceiling</span>(results_count_gaming[<span class="dv">1</span>] <span class="sc">/</span> results_per_page_gaming)</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Print results_count_gaming and total_pages_gaming</span></span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(results_count_gaming)</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(total_pages_gaming)</span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize an empty data frame</span></span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a>results_gaming_rvest <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through each page and scrape the data</span></span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (page <span class="cf">in</span> <span class="dv">0</span><span class="sc">:</span>(total_pages_gaming <span class="sc">-</span> <span class="dv">1</span>)) {</span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Update the page parameter in the URL for the current page</span></span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a>  current_url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(url_gaming_rvest, <span class="st">"&amp;page="</span>, page <span class="sc">+</span> <span class="dv">1</span>)</span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read and parse the current webpage</span></span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a>  current_page <span class="ot">&lt;-</span> <span class="fu">read_html</span>(current_url)</span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract title</span></span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a>  Title <span class="ot">&lt;-</span> <span class="fu">tryCatch</span>({</span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a>    current_page <span class="sc">%&gt;%</span></span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a>      <span class="fu">html_nodes</span>(<span class="st">".docsum-title"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-38"><a href="#cb38-38" aria-hidden="true" tabindex="-1"></a>      <span class="fu">html_text</span>(<span class="at">trim =</span> <span class="cn">TRUE</span>)</span>
<span id="cb38-39"><a href="#cb38-39" aria-hidden="true" tabindex="-1"></a>  }, <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb38-40"><a href="#cb38-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Error extracting title info on page"</span>, page <span class="sc">+</span> <span class="dv">1</span>))</span>
<span id="cb38-41"><a href="#cb38-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="fu">length</span>(Title))  <span class="co"># Return a vector of NAs with the same length as Title</span></span>
<span id="cb38-42"><a href="#cb38-42" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb38-43"><a href="#cb38-43" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb38-44"><a href="#cb38-44" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract the PMID:</span></span>
<span id="cb38-45"><a href="#cb38-45" aria-hidden="true" tabindex="-1"></a>  pmid <span class="ot">&lt;-</span> current_page <span class="sc">%&gt;%</span></span>
<span id="cb38-46"><a href="#cb38-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_nodes</span>(<span class="st">".docsum-pmid"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-47"><a href="#cb38-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_text</span>(<span class="at">trim =</span> <span class="cn">TRUE</span>)</span>
<span id="cb38-48"><a href="#cb38-48" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb38-49"><a href="#cb38-49" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a data frame with the extracted data:</span></span>
<span id="cb38-50"><a href="#cb38-50" aria-hidden="true" tabindex="-1"></a>  current_results_gaming <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Title =</span> Title,</span>
<span id="cb38-51"><a href="#cb38-51" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">PMID =</span> pmid)</span>
<span id="cb38-52"><a href="#cb38-52" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb38-53"><a href="#cb38-53" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Combine the current results with the previous results:</span></span>
<span id="cb38-54"><a href="#cb38-54" aria-hidden="true" tabindex="-1"></a>  results_gaming_rvest <span class="ot">&lt;-</span> <span class="fu">rbind</span>(results_gaming_rvest, current_results_gaming)</span>
<span id="cb38-55"><a href="#cb38-55" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb38-56"><a href="#cb38-56" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Introduce a delay to avoid overloading the server:</span></span>
<span id="cb38-57"><a href="#cb38-57" aria-hidden="true" tabindex="-1"></a>  sleep_time <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">1</span>, <span class="at">min =</span> <span class="dv">5</span>, <span class="at">max =</span> <span class="dv">15</span>)</span>
<span id="cb38-58"><a href="#cb38-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">Sys.sleep</span>(sleep_time)</span>
<span id="cb38-59"><a href="#cb38-59" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb38-60"><a href="#cb38-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-61"><a href="#cb38-61" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the extracted data:</span></span>
<span id="cb38-62"><a href="#cb38-62" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">as_tibble</span>(results_gaming_rvest))</span>
<span id="cb38-63"><a href="#cb38-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-64"><a href="#cb38-64" aria-hidden="true" tabindex="-1"></a><span class="co"># Now save the titles before proceeding so we can't lose them!</span></span>
<span id="cb38-65"><a href="#cb38-65" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(results_gaming_rvest, <span class="st">"Data extraction/gaming_titles.csv"</span>, <span class="at">row.names=</span><span class="cn">FALSE</span>)</span>
<span id="cb38-66"><a href="#cb38-66" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="refine-dataset-1" class="level4">
<h4 class="anchored" data-anchor-id="refine-dataset-1">Refine dataset</h4>
<p>Now we need to identify and remove any duplicates, irrelevant studies, or entries with any other issues (e.g., those that turn out to be books)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load in first dataset in case environment clean on knit (above sections not executed for render):</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>results_gaming<span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Data extraction/gaming_data.csv"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>()</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Load in second dataset in case environment clean on knit (above sections not executed for render):</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>results_gaming_rvest<span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Data extraction/gaming_titles.csv"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>()</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge our two datasets:</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>results_gaming2 <span class="ot">&lt;-</span> results_gaming <span class="sc">%&gt;%</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"Title_trunc"</span> <span class="ot">=</span> <span class="st">"Title"</span>) <span class="sc">%&gt;%</span> <span class="co"># Designate the truncated title from our primary dataset so we can remove it once we get the full title</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(results_gaming_rvest, <span class="at">by =</span> <span class="st">"PMID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Title_trunc) <span class="sc">%&gt;%</span> <span class="co"># Bye truncated title</span></span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(Title) <span class="sc">%&gt;%</span> <span class="co"># Place full title first for ease</span></span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,569 × 13
   Title         PMID  Year Month DOI   Abstract Full_Author_Name Author_Address
   &lt;chr&gt;        &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;            &lt;chr&gt;         
 1 Letter to … 3.74e7  2023 Jun   S002…  &lt;NA&gt;    Montag, Christi… "Department o…
 2 Positive y… 3.74e7  2023 &lt;NA&gt;  10.1… "As an … Gan, Xiong; Wan… "Department o…
 3 Social sup… 3.74e7  2023 Jun   S002… "BACKGR… Malak, Malakeh … "Community He…
 4 The serial… 3.74e7  2023 Jun   10.1… "Gaming… Servidio, Rocco… "Department o…
 5 The Big Fi… 3.74e7  2023 May   10.3… "Relati… Wartberg, Lutz;… "Department o…
 6 Commentary… 3.74e7  2023 Jun   10.1…  &lt;NA&gt;    Luquiens, Amand… "Department o…
 7 Problemati… 3.74e7  2023 Jun   10.1… "As res… Ghazi, Farah Ra… "Department o…
 8 Relationsh… 3.74e7  2023 Apr   10.1… "Resear… Li, Li; Niu, Zh… "Ganzhou, Chi…
 9 Examining … 3.74e7  2023 May   10.1… "This s… Yildiz Durak, H… "Konya, Turke…
10 Cross-Cult… 3.74e7  2023 May   10.1… "Empiri… Kochuchakkalack… "Manila, Phil…
# ℹ 1,559 more rows
# ℹ 5 more variables: Language &lt;chr&gt;, Publication_Type &lt;chr&gt;,
#   Journal_name_short &lt;chr&gt;, Conflict_of_Interest_Statement &lt;chr&gt;,
#   Journal_Title &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check results:</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="co"># View(results_gaming2)</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Total number with basic duplication removal based on title:</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>Simple_duplicate_removal_n <span class="ot">&lt;-</span> results_gaming2 <span class="sc">%&gt;%</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(Title) <span class="sc">%&gt;%</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
      n
  &lt;int&gt;
1  1568</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show duplicate:</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>results_gaming2 <span class="sc">%&gt;%</span> </span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Title) <span class="sc">%&gt;%</span> </span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">n</span>()<span class="sc">&gt;</span><span class="dv">1</span>) <span class="co"># **This is actually two seperate studies**</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 13
# Groups:   Title [1]
  Title          PMID  Year Month DOI   Abstract Full_Author_Name Author_Address
  &lt;chr&gt;         &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;            &lt;chr&gt;         
1 Technologic… 3.61e7  2022 Sep   S019… "Modern… Sherer, James; … "New York Uni…
2 Technologic… 3.58e7  2022 Sep   10.1… "PURPOS… Sherer, James; … "New York Uni…
# ℹ 5 more variables: Language &lt;chr&gt;, Publication_Type &lt;chr&gt;,
#   Journal_name_short &lt;chr&gt;, Conflict_of_Interest_Statement &lt;chr&gt;,
#   Journal_Title &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># I know from manual searching that there is a genuine duplicate that is a corrigendum to one study. The PMID  for the corrigendum is 35543161 (Remove later)</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Have a look at duplicates where the title, year, and authors are all the same:</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>results_gaming2 <span class="sc">%&gt;%</span> </span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Title, </span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>           Journal_name_short, </span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>           Full_Author_Name) <span class="sc">%&gt;%</span> </span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">n</span>()<span class="sc">&gt;</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 13
# Groups:   Title, Journal_name_short, Full_Author_Name [0]
# ℹ 13 variables: Title &lt;chr&gt;, PMID &lt;int&gt;, Year &lt;int&gt;, Month &lt;chr&gt;, DOI &lt;chr&gt;,
#   Abstract &lt;chr&gt;, Full_Author_Name &lt;chr&gt;, Author_Address &lt;chr&gt;,
#   Language &lt;chr&gt;, Publication_Type &lt;chr&gt;, Journal_name_short &lt;chr&gt;,
#   Conflict_of_Interest_Statement &lt;chr&gt;, Journal_Title &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Have a look at duplicates were just the title, journal and year are the same:</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>results_gaming2 <span class="sc">%&gt;%</span> </span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Title, </span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>           Journal_name_short, </span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>           Year) <span class="sc">%&gt;%</span> </span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">n</span>()<span class="sc">&gt;</span><span class="dv">1</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 13
# Groups:   Title, Journal_name_short, Year [0]
# ℹ 13 variables: Title &lt;chr&gt;, PMID &lt;int&gt;, Year &lt;int&gt;, Month &lt;chr&gt;, DOI &lt;chr&gt;,
#   Abstract &lt;chr&gt;, Full_Author_Name &lt;chr&gt;, Author_Address &lt;chr&gt;,
#   Language &lt;chr&gt;, Publication_Type &lt;chr&gt;, Journal_name_short &lt;chr&gt;,
#   Conflict_of_Interest_Statement &lt;chr&gt;, Journal_Title &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the duplicate study:</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>results_gaming_sans_duplicates<span class="ot">&lt;-</span> results_gaming2 <span class="sc">%&gt;%</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(PMID <span class="sc">!=</span> <span class="st">"35543161"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,568 × 13
   Title         PMID  Year Month DOI   Abstract Full_Author_Name Author_Address
   &lt;chr&gt;        &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;            &lt;chr&gt;         
 1 Letter to … 3.74e7  2023 Jun   S002…  &lt;NA&gt;    Montag, Christi… "Department o…
 2 Positive y… 3.74e7  2023 &lt;NA&gt;  10.1… "As an … Gan, Xiong; Wan… "Department o…
 3 Social sup… 3.74e7  2023 Jun   S002… "BACKGR… Malak, Malakeh … "Community He…
 4 The serial… 3.74e7  2023 Jun   10.1… "Gaming… Servidio, Rocco… "Department o…
 5 The Big Fi… 3.74e7  2023 May   10.3… "Relati… Wartberg, Lutz;… "Department o…
 6 Commentary… 3.74e7  2023 Jun   10.1…  &lt;NA&gt;    Luquiens, Amand… "Department o…
 7 Problemati… 3.74e7  2023 Jun   10.1… "As res… Ghazi, Farah Ra… "Department o…
 8 Relationsh… 3.74e7  2023 Apr   10.1… "Resear… Li, Li; Niu, Zh… "Ganzhou, Chi…
 9 Examining … 3.74e7  2023 May   10.1… "This s… Yildiz Durak, H… "Konya, Turke…
10 Cross-Cult… 3.74e7  2023 May   10.1… "Empiri… Kochuchakkalack… "Manila, Phil…
# ℹ 1,558 more rows
# ℹ 5 more variables: Language &lt;chr&gt;, Publication_Type &lt;chr&gt;,
#   Journal_name_short &lt;chr&gt;, Conflict_of_Interest_Statement &lt;chr&gt;,
#   Journal_Title &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check this has just remove one study</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span>(results_gaming2) <span class="sc">-</span> <span class="fu">count</span>(results_gaming_sans_duplicates) <span class="co"># Yep</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  n
1 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co">#  Okay, now we have a clean dataset, let's explore!</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary of the Year  variable:</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(results_gaming_sans_duplicates<span class="sc">$</span>Year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   1994    2017    2020    2019    2022    2023 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Number of publications per year:</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>gaming_hist<span class="ot">&lt;-</span> <span class="fu">hist</span>(results_gaming_sans_duplicates<span class="sc">$</span>Year,</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">1960</span>,<span class="dv">2023</span>),</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="dv">40</span>,</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">main =</span> <span class="st">"Papers published per year on Gaming Disorder (PubMed)"</span>,</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">xlab =</span> <span class="st">"Year"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PubMed-Article-Extraction-Using-rentrez_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Number of separate journals:</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>results_gaming_sans_duplicates <span class="sc">%&gt;%</span> </span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(Journal_name_short) <span class="sc">%&gt;%</span> </span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Journal_name_short) <span class="sc">%&gt;%</span> </span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 335 × 1
   Journal_name_short     
   &lt;chr&gt;                  
 1 Acta Paediatr          
 2 Acta Psychol (Amst)    
 3 Addict Behav           
 4 Addict Behav Rep       
 5 Addict Biol            
 6 Addiction              
 7 Adicciones             
 8 Adolescence            
 9 Adv Exp Med Biol       
10 Aggress Behav          
11 Am J Addict            
12 Am J Drug Alcohol Abuse
13 Am J Health Behav      
14 Am J Hum Biol          
15 Am J Mens Health       
16 Am J Nurs              
17 Am J Play              
18 Am J Psychiatry        
19 Ann Acad Med Singap    
20 Ann Gen Psychiatry     
# ℹ 315 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Most popular journals:</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>results_gaming_sans_duplicates <span class="sc">%&gt;%</span> </span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Journal_name_short) <span class="sc">%&gt;%</span> </span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>()</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 335 × 2
   Journal_name_short                            n
   &lt;chr&gt;                                     &lt;int&gt;
 1 J Behav Addict                              185
 2 Front Psychiatry                             95
 3 Int J Environ Res Public Health              91
 4 Addict Behav                                 83
 5 Cyberpsychol Behav Soc Netw                  51
 6 Front Psychol                                49
 7 Addiction                                    36
 8 Addict Behav Rep                             35
 9 Addict Biol                                  31
10 PLoS One                                     27
11 J Psychiatr Res                              25
12 Psychiatry Res                               23
13 Int J Ment Health Addict                     19
14 Prog Neuropsychopharmacol Biol Psychiatry    19
15 BMC Psychiatry                               18
16 J Clin Med                                   18
17 Front Public Health                          14
18 Psychiatry Investig                          14
19 Sci Rep                                      14
20 J Affect Disord                              13
# ℹ 315 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View(results_gaming_sans_duplicates) # Visually inspect results</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Now I need to add a label to all of these studies to signify that they Were returned from the gaming search so that we can distinguish them from other studies when we later joined the datasets together:</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span>(results_gaming_sans_duplicates)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
      n
  &lt;int&gt;
1  1568</code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>Label <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">"gaming"</span>, <span class="at">times =</span> <span class="fu">count</span>(results_gaming_sans_duplicates))</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>results_gaming_final <span class="ot">&lt;-</span> results_gaming_sans_duplicates <span class="sc">%&gt;%</span> <span class="fu">bind_cols</span>(Label) <span class="sc">%&gt;%</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Label =</span> <span class="dv">14</span>) <span class="sc">%&gt;%</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...14`</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,568 × 14
   Title         PMID  Year Month DOI   Abstract Full_Author_Name Author_Address
   &lt;chr&gt;        &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;            &lt;chr&gt;         
 1 Letter to … 3.74e7  2023 Jun   S002…  &lt;NA&gt;    Montag, Christi… "Department o…
 2 Positive y… 3.74e7  2023 &lt;NA&gt;  10.1… "As an … Gan, Xiong; Wan… "Department o…
 3 Social sup… 3.74e7  2023 Jun   S002… "BACKGR… Malak, Malakeh … "Community He…
 4 The serial… 3.74e7  2023 Jun   10.1… "Gaming… Servidio, Rocco… "Department o…
 5 The Big Fi… 3.74e7  2023 May   10.3… "Relati… Wartberg, Lutz;… "Department o…
 6 Commentary… 3.74e7  2023 Jun   10.1…  &lt;NA&gt;    Luquiens, Amand… "Department o…
 7 Problemati… 3.74e7  2023 Jun   10.1… "As res… Ghazi, Farah Ra… "Department o…
 8 Relationsh… 3.74e7  2023 Apr   10.1… "Resear… Li, Li; Niu, Zh… "Ganzhou, Chi…
 9 Examining … 3.74e7  2023 May   10.1… "This s… Yildiz Durak, H… "Konya, Turke…
10 Cross-Cult… 3.74e7  2023 May   10.1… "Empiri… Kochuchakkalack… "Manila, Phil…
# ℹ 1,558 more rows
# ℹ 6 more variables: Language &lt;chr&gt;, Publication_Type &lt;chr&gt;,
#   Journal_name_short &lt;chr&gt;, Conflict_of_Interest_Statement &lt;chr&gt;,
#   Journal_Title &lt;chr&gt;, Label &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View(results_gaming_final)</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Now save the cleaned results:</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(results_gaming_final, <span class="st">"Data extraction/gaming_data_cleaned.csv"</span>, <span class="at">row.names=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="work-addiction" class="level2">
<h2 class="anchored" data-anchor-id="work-addiction">Work addiction</h2>
<section id="extract-studies-and-perform-a-basic-clean-of-dataset-2" class="level4">
<h4 class="anchored" data-anchor-id="extract-studies-and-perform-a-basic-clean-of-dataset-2">Extract studies and perform a basic clean of dataset</h4>
<p><strong>Notes pre-search:</strong> Some key terms I have found in the literature are “work addiction” and [https://pubmed.ncbi.nlm.nih.gov/30920291/] “workaholism” [https://pubmed.ncbi.nlm.nih.gov/28425778/]</p>
<p><strong>Actual search used:</strong> ((“work addiction”[Title/Abstract]) OR (“addiction to work”[Title/Abstract])) OR (“workaholism”[Title/Abstract])</p>
<p><strong>Manual search results:</strong> <a href="https://pubmed.ncbi.nlm.nih.gov/?term=%28%28%22work+addiction%22%5BTitle%2FAbstract%5D%29+OR+%28%22addiction+to+work%22%5BTitle%2FAbstract%5D%29%29+OR+%28%22workaholism%22%5BTitle%2FAbstract%5D%29&amp;size=200">link</a></p>
<p><strong>Notes post-search:</strong> Again, I manually inspected all of the results directly in the PubMed site. All appeared relevant other than one study which is mentioned and removed in the code under the title “Refine dataset” within this section.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="co">#  Clean environment:</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the search term:</span></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>search_term_work <span class="ot">&lt;-</span> <span class="st">'("work addiction"[Title/Abstract]) OR ("addiction to work"[Title/Abstract]) OR ("workaholism"[Title/Abstract])'</span></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Use entrez_search to get the IDs of the articles:</span></span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a>search_results_work <span class="ot">&lt;-</span> <span class="fu">entrez_search</span>(<span class="at">db=</span><span class="st">"pubmed"</span>, <span class="at">term=</span>search_term_work, <span class="at">retmax=</span><span class="dv">20000</span>)</span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a>id_list_work <span class="ot">&lt;-</span> search_results_work<span class="sc">$</span>ids</span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-12"><a href="#cb66-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Split id list into chunks of 500:</span></span>
<span id="cb66-13"><a href="#cb66-13" aria-hidden="true" tabindex="-1"></a>chunks <span class="ot">&lt;-</span> <span class="fu">split</span>(id_list_work, <span class="fu">ceiling</span>(<span class="fu">seq_along</span>(id_list_work)<span class="sc">/</span><span class="dv">500</span>))</span>
<span id="cb66-14"><a href="#cb66-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-15"><a href="#cb66-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Fetch details for each chunk of articles:</span></span>
<span id="cb66-16"><a href="#cb66-16" aria-hidden="true" tabindex="-1"></a>article_details_work <span class="ot">&lt;-</span> <span class="fu">map_dfr</span>(chunks, <span class="cf">function</span>(ids) {</span>
<span id="cb66-17"><a href="#cb66-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fetch details of the articles:</span></span>
<span id="cb66-18"><a href="#cb66-18" aria-hidden="true" tabindex="-1"></a>  articles <span class="ot">&lt;-</span> <span class="fu">entrez_fetch</span>(<span class="at">db=</span><span class="st">"pubmed"</span>, <span class="at">id=</span>ids, <span class="at">rettype=</span><span class="st">"medline"</span>, <span class="at">retmode=</span><span class="st">"text"</span>)</span>
<span id="cb66-19"><a href="#cb66-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb66-20"><a href="#cb66-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Split the articles into individual articles:</span></span>
<span id="cb66-21"><a href="#cb66-21" aria-hidden="true" tabindex="-1"></a>  articles <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(articles, <span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)[[<span class="dv">1</span>]]</span>
<span id="cb66-22"><a href="#cb66-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb66-23"><a href="#cb66-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Process each article:</span></span>
<span id="cb66-24"><a href="#cb66-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map_dfr</span>(articles, <span class="cf">function</span>(article) {</span>
<span id="cb66-25"><a href="#cb66-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Split the article into lines:</span></span>
<span id="cb66-26"><a href="#cb66-26" aria-hidden="true" tabindex="-1"></a>    lines <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(article, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)[[<span class="dv">1</span>]]</span>
<span id="cb66-27"><a href="#cb66-27" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb66-28"><a href="#cb66-28" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get the details we're interested in:</span></span>
<span id="cb66-29"><a href="#cb66-29" aria-hidden="true" tabindex="-1"></a>    details_work <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb66-30"><a href="#cb66-30" aria-hidden="true" tabindex="-1"></a>      <span class="at">PMID =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^PMID"</span>, lines))) lines[<span class="fu">grepl</span>(<span class="st">"^PMID"</span>, lines)] <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb66-31"><a href="#cb66-31" aria-hidden="true" tabindex="-1"></a>      <span class="at">DP =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^DP"</span>, lines))) lines[<span class="fu">grepl</span>(<span class="st">"^DP"</span>, lines)] <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb66-32"><a href="#cb66-32" aria-hidden="true" tabindex="-1"></a>      <span class="at">TI =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^TI"</span>, lines))) lines[<span class="fu">grepl</span>(<span class="st">"^TI"</span>, lines)] <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb66-33"><a href="#cb66-33" aria-hidden="true" tabindex="-1"></a>      <span class="at">LID =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^LID"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^LID"</span>, lines)], <span class="at">collapse=</span><span class="st">"; "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb66-34"><a href="#cb66-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">AB =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^AB"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^AB"</span>, lines)], <span class="at">collapse=</span><span class="st">" "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb66-35"><a href="#cb66-35" aria-hidden="true" tabindex="-1"></a>      <span class="at">FAU =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^FAU"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^FAU"</span>, lines)], <span class="at">collapse=</span><span class="st">"; "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb66-36"><a href="#cb66-36" aria-hidden="true" tabindex="-1"></a>      <span class="at">AD =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^AD"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^AD"</span>, lines)], <span class="at">collapse=</span><span class="st">"; "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb66-37"><a href="#cb66-37" aria-hidden="true" tabindex="-1"></a>      <span class="at">LA =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^LA"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^LA"</span>, lines)], <span class="at">collapse=</span><span class="st">"; "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb66-38"><a href="#cb66-38" aria-hidden="true" tabindex="-1"></a>      <span class="at">PT =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^PT"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^PT"</span>, lines)], <span class="at">collapse=</span><span class="st">"; "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb66-39"><a href="#cb66-39" aria-hidden="true" tabindex="-1"></a>      <span class="at">TA =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^TA"</span>, lines))) lines[<span class="fu">grepl</span>(<span class="st">"^TA"</span>, lines)] <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb66-40"><a href="#cb66-40" aria-hidden="true" tabindex="-1"></a>      <span class="at">COIS =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^COIS"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^COIS"</span>, lines)], <span class="at">collapse=</span><span class="st">" "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb66-41"><a href="#cb66-41" aria-hidden="true" tabindex="-1"></a>      <span class="at">JT =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^JT"</span>, lines))) lines[<span class="fu">grepl</span>(<span class="st">"^JT"</span>, lines)] <span class="cf">else</span> <span class="cn">NA</span></span>
<span id="cb66-42"><a href="#cb66-42" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb66-43"><a href="#cb66-43" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb66-44"><a href="#cb66-44" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convert the list of details into a one-row data frame:</span></span>
<span id="cb66-45"><a href="#cb66-45" aria-hidden="true" tabindex="-1"></a>    details_df_work <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(details_work)</span>
<span id="cb66-46"><a href="#cb66-46" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb66-47"><a href="#cb66-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(details_df_work)</span>
<span id="cb66-48"><a href="#cb66-48" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb66-49"><a href="#cb66-49" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb66-50"><a href="#cb66-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-51"><a href="#cb66-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the results:</span></span>
<span id="cb66-52"><a href="#cb66-52" aria-hidden="true" tabindex="-1"></a>article_details_work <span class="sc">%&gt;%</span></span>
<span id="cb66-53"><a href="#cb66-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb66-54"><a href="#cb66-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span>
<span id="cb66-55"><a href="#cb66-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-56"><a href="#cb66-56" aria-hidden="true" tabindex="-1"></a><span class="co"># Let's remove the identifiers at the beginning of each data point:</span></span>
<span id="cb66-57"><a href="#cb66-57" aria-hidden="true" tabindex="-1"></a>rep_str <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'PMID- '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'DP  - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'TI  - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'LID - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'AB  - '</span> <span class="ot">=</span> <span class="st">''</span>,</span>
<span id="cb66-58"><a href="#cb66-58" aria-hidden="true" tabindex="-1"></a>             <span class="st">'FAU - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'AD  - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'LA  - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'PT  - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'TA  - '</span> <span class="ot">=</span> <span class="st">''</span>,</span>
<span id="cb66-59"><a href="#cb66-59" aria-hidden="true" tabindex="-1"></a>             <span class="st">'COIS- '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'JT  - '</span> <span class="ot">=</span> <span class="st">''</span>)</span>
<span id="cb66-60"><a href="#cb66-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-61"><a href="#cb66-61" aria-hidden="true" tabindex="-1"></a>results_work <span class="ot">&lt;-</span> article_details_work <span class="sc">%&gt;%</span></span>
<span id="cb66-62"><a href="#cb66-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), <span class="sc">~</span><span class="fu">str_replace_all</span>(., rep_str))) <span class="sc">%&gt;%</span> <span class="co"># Remove identifiers</span></span>
<span id="cb66-63"><a href="#cb66-63" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Now separate the date year and month/day info:</span></span>
<span id="cb66-64"><a href="#cb66-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(DP, <span class="fu">c</span>(<span class="st">"Year"</span>, <span class="st">"Month"</span>), <span class="at">sep =</span> <span class="st">"</span><span class="sc">\\</span><span class="st"> "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb66-65"><a href="#cb66-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">as.numeric</span>(Year)) <span class="sc">%&gt;%</span> <span class="co"># Convert Year to numeric</span></span>
<span id="cb66-66"><a href="#cb66-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="co"># Let's also provide more descriptive names for each of the columns</span></span>
<span id="cb66-67"><a href="#cb66-67" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Title"</span> <span class="ot">=</span> <span class="st">"TI"</span>, </span>
<span id="cb66-68"><a href="#cb66-68" aria-hidden="true" tabindex="-1"></a>         <span class="st">"DOI"</span> <span class="ot">=</span> <span class="st">"LID"</span>, </span>
<span id="cb66-69"><a href="#cb66-69" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Abstract"</span> <span class="ot">=</span> <span class="st">"AB"</span>, </span>
<span id="cb66-70"><a href="#cb66-70" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Full_Author_Name"</span> <span class="ot">=</span> <span class="st">"FAU"</span>, </span>
<span id="cb66-71"><a href="#cb66-71" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Author_Address"</span> <span class="ot">=</span> <span class="st">"AD"</span>, </span>
<span id="cb66-72"><a href="#cb66-72" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Language"</span> <span class="ot">=</span> <span class="st">"LA"</span>, </span>
<span id="cb66-73"><a href="#cb66-73" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Publication_Type"</span> <span class="ot">=</span> <span class="st">"PT"</span>, </span>
<span id="cb66-74"><a href="#cb66-74" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Journal_name_short"</span> <span class="ot">=</span> <span class="st">"TA"</span>,</span>
<span id="cb66-75"><a href="#cb66-75" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Conflict_of_Interest_Statement"</span> <span class="ot">=</span> <span class="st">"COIS"</span>,</span>
<span id="cb66-76"><a href="#cb66-76" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Journal_Title"</span> <span class="ot">=</span> <span class="st">"JT"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb66-77"><a href="#cb66-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span>
<span id="cb66-78"><a href="#cb66-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-79"><a href="#cb66-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-80"><a href="#cb66-80" aria-hidden="true" tabindex="-1"></a><span class="co"># Now save the initial results before proceeding so we can't lose them!</span></span>
<span id="cb66-81"><a href="#cb66-81" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(results_work, <span class="st">"Data extraction/work_data.csv"</span>, <span class="at">row.names=</span><span class="cn">FALSE</span>)</span>
<span id="cb66-82"><a href="#cb66-82" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="extract-full-title-using-rvest-2" class="level4">
<h4 class="anchored" data-anchor-id="extract-full-title-using-rvest-2">Extract full title using rvest</h4>
<p>Again, we’re going to use the <code>rvest</code> package to scrape the titles returned from the manual search in PubMed, then join the two datasets using the PMID, retaining the title from this new dataset.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the URL</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>url_work_rvest <span class="ot">&lt;-</span> <span class="st">"https://pubmed.ncbi.nlm.nih.gov/?term=%28%28%22work+addiction%22%5BTitle%2FAbstract%5D%29+OR+%28%22addiction+to+work%22%5BTitle%2FAbstract%5D%29%29+OR+%28%22workaholism%22%5BTitle%2FAbstract%5D%29&amp;size=200"</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Read and parse the webpage</span></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>webpage_work_rvest <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url_work_rvest)</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the total number of search results</span></span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>results_count_work <span class="ot">&lt;-</span> webpage_work_rvest <span class="sc">%&gt;%</span></span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_node</span>(<span class="st">".results-amount .value"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_text</span>() <span class="sc">%&gt;%</span></span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace</span>(<span class="st">","</span>, <span class="st">""</span>) <span class="sc">%&gt;%</span></span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.numeric</span>()</span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the number of pages</span></span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a>results_per_page_work <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a>total_pages_work <span class="ot">&lt;-</span> <span class="fu">ceiling</span>(results_count_work[<span class="dv">1</span>] <span class="sc">/</span> results_per_page_work)</span>
<span id="cb67-18"><a href="#cb67-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Print results_count_work and total_pages_work</span></span>
<span id="cb67-19"><a href="#cb67-19" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(results_count_work)</span>
<span id="cb67-20"><a href="#cb67-20" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(total_pages_work)</span>
<span id="cb67-21"><a href="#cb67-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-22"><a href="#cb67-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-23"><a href="#cb67-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize an empty data frame</span></span>
<span id="cb67-24"><a href="#cb67-24" aria-hidden="true" tabindex="-1"></a>results_work_rvest <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb67-25"><a href="#cb67-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-26"><a href="#cb67-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through each page and scrape the data</span></span>
<span id="cb67-27"><a href="#cb67-27" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (page <span class="cf">in</span> <span class="dv">0</span><span class="sc">:</span>(total_pages_work <span class="sc">-</span> <span class="dv">1</span>)) {</span>
<span id="cb67-28"><a href="#cb67-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Update the page parameter in the URL for the current page</span></span>
<span id="cb67-29"><a href="#cb67-29" aria-hidden="true" tabindex="-1"></a>  current_url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(url_work_rvest, <span class="st">"&amp;page="</span>, page <span class="sc">+</span> <span class="dv">1</span>)</span>
<span id="cb67-30"><a href="#cb67-30" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb67-31"><a href="#cb67-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read and parse the current webpage</span></span>
<span id="cb67-32"><a href="#cb67-32" aria-hidden="true" tabindex="-1"></a>  current_page <span class="ot">&lt;-</span> <span class="fu">read_html</span>(current_url)</span>
<span id="cb67-33"><a href="#cb67-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb67-34"><a href="#cb67-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract title</span></span>
<span id="cb67-35"><a href="#cb67-35" aria-hidden="true" tabindex="-1"></a>  Title <span class="ot">&lt;-</span> <span class="fu">tryCatch</span>({</span>
<span id="cb67-36"><a href="#cb67-36" aria-hidden="true" tabindex="-1"></a>    current_page <span class="sc">%&gt;%</span></span>
<span id="cb67-37"><a href="#cb67-37" aria-hidden="true" tabindex="-1"></a>      <span class="fu">html_nodes</span>(<span class="st">".docsum-title"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb67-38"><a href="#cb67-38" aria-hidden="true" tabindex="-1"></a>      <span class="fu">html_text</span>(<span class="at">trim =</span> <span class="cn">TRUE</span>)</span>
<span id="cb67-39"><a href="#cb67-39" aria-hidden="true" tabindex="-1"></a>  }, <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb67-40"><a href="#cb67-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Error extracting title info on page"</span>, page <span class="sc">+</span> <span class="dv">1</span>))</span>
<span id="cb67-41"><a href="#cb67-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="fu">length</span>(Title))  <span class="co"># Return a vector of NAs with the same length as Title</span></span>
<span id="cb67-42"><a href="#cb67-42" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb67-43"><a href="#cb67-43" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb67-44"><a href="#cb67-44" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract the PMID</span></span>
<span id="cb67-45"><a href="#cb67-45" aria-hidden="true" tabindex="-1"></a>  pmid <span class="ot">&lt;-</span> current_page <span class="sc">%&gt;%</span></span>
<span id="cb67-46"><a href="#cb67-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_nodes</span>(<span class="st">".docsum-pmid"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb67-47"><a href="#cb67-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_text</span>(<span class="at">trim =</span> <span class="cn">TRUE</span>)</span>
<span id="cb67-48"><a href="#cb67-48" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb67-49"><a href="#cb67-49" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a data frame with the extracted data</span></span>
<span id="cb67-50"><a href="#cb67-50" aria-hidden="true" tabindex="-1"></a>  current_results_work <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Title =</span> Title,</span>
<span id="cb67-51"><a href="#cb67-51" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">PMID =</span> pmid)</span>
<span id="cb67-52"><a href="#cb67-52" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb67-53"><a href="#cb67-53" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Combine the current results with the previous results</span></span>
<span id="cb67-54"><a href="#cb67-54" aria-hidden="true" tabindex="-1"></a>  results_work_rvest <span class="ot">&lt;-</span> <span class="fu">rbind</span>(results_work_rvest, current_results_work)</span>
<span id="cb67-55"><a href="#cb67-55" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb67-56"><a href="#cb67-56" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Introduce a delay to avoid overloading the server</span></span>
<span id="cb67-57"><a href="#cb67-57" aria-hidden="true" tabindex="-1"></a>  sleep_time <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">1</span>, <span class="at">min =</span> <span class="dv">5</span>, <span class="at">max =</span> <span class="dv">15</span>)</span>
<span id="cb67-58"><a href="#cb67-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">Sys.sleep</span>(sleep_time)</span>
<span id="cb67-59"><a href="#cb67-59" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb67-60"><a href="#cb67-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-61"><a href="#cb67-61" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the extracted data</span></span>
<span id="cb67-62"><a href="#cb67-62" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">as_tibble</span>(results_work_rvest))</span>
<span id="cb67-63"><a href="#cb67-63" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="refine-dataset-2" class="level4">
<h4 class="anchored" data-anchor-id="refine-dataset-2">Refine dataset</h4>
<p>Now we need to identify and remove any duplicates, irrelevant studies, or entries with any other issues (e.g., those that turn out to be books)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load in first dataset in case environment clean on knit (above sections not executed for render):</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>results_work<span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Data extraction/work_data.csv"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>()</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Load in second dataset in case environment clean on knit (above sections not executed for render):</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>results_work_rvest<span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Data extraction/work_titles.csv"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>()</span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge our two datasets:</span></span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a>results_work2 <span class="ot">&lt;-</span> results_work <span class="sc">%&gt;%</span></span>
<span id="cb68-11"><a href="#cb68-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb68-12"><a href="#cb68-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"Title_trunc"</span> <span class="ot">=</span> <span class="st">"Title"</span>) <span class="sc">%&gt;%</span> <span class="co"># Designate the truncated title from our primary dataset so we can remove it once we get the full title</span></span>
<span id="cb68-13"><a href="#cb68-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(results_work_rvest, <span class="at">by =</span> <span class="st">"PMID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb68-14"><a href="#cb68-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Title_trunc) <span class="sc">%&gt;%</span> <span class="co"># Bye truncated title</span></span>
<span id="cb68-15"><a href="#cb68-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(Title) <span class="sc">%&gt;%</span> <span class="co"># Place full title first for ease</span></span>
<span id="cb68-16"><a href="#cb68-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 275 × 13
   Title         PMID  Year Month DOI   Abstract Full_Author_Name Author_Address
   &lt;chr&gt;        &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;            &lt;chr&gt;         
 1 The social… 3.74e7  2023 Jun   10.1… "Workah… Negura, Lilian;… "University o…
 2 Validity a… 3.72e7  2023 &lt;NA&gt;  10.3… "BACKGR… Liu, Yuanyuan; … "Department o…
 3 Effects of… 3.72e7  2023 May   bmjq… "OBJECT… Maisonneuve, Fr… "Human Resour…
 4 Work addic… 3.71e7  2023 &lt;NA&gt;  10.3… "INTROD… Bereznowski, Pi… "Faculty of S…
 5 Severity o… 3.69e7  2023 Jun   10.1… "INTROD… Peter, Lea; Pak… "Department o…
 6 The Role o… 3.69e7  2023 Mar   10.3… "The cu… Morkeviciute, M… "Department o…
 7 How and Wh… 3.67e7  2023 Jan   10.3… "Althou… Sommovigo, Vale… "Department o…
 8 Associatio… 3.66e7  2022 &lt;NA&gt;  10.3… "INTROD… Wettstein, Alex… "Department o…
 9 Effect of … 3.66e7  2023 May   10.1… "AIM: T… Xie, Lin-Li; Ji… "University o…
10 Validity o… 3.65e7  2022 Dec   10.1… "There … Seretis, Dionys… "Department o…
# ℹ 265 more rows
# ℹ 5 more variables: Language &lt;chr&gt;, Publication_Type &lt;chr&gt;,
#   Journal_name_short &lt;chr&gt;, Conflict_of_Interest_Statement &lt;chr&gt;,
#   Journal_Title &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Total number with basic duplication removal based on title:</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>Simple_duplicate_removal_n <span class="ot">&lt;-</span> results_work2 <span class="sc">%&gt;%</span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(Title) <span class="sc">%&gt;%</span></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>() <span class="co"># None</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
      n
  &lt;int&gt;
1   275</code></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Total number with basic duplication removal based on title:</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>Simple_duplicate_removal_n <span class="ot">&lt;-</span> results_work2 <span class="sc">%&gt;%</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(PMID) <span class="sc">%&gt;%</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>() <span class="co"># None</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
      n
  &lt;int&gt;
1   275</code></pre>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Have a look at duplicates where the title, year, and authors are all the same:</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>results_work2 <span class="sc">%&gt;%</span> </span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Title, </span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>           Journal_name_short, </span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>           Full_Author_Name) <span class="sc">%&gt;%</span> </span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">n</span>()<span class="sc">&gt;</span><span class="dv">1</span>) <span class="co"># None</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 13
# Groups:   Title, Journal_name_short, Full_Author_Name [0]
# ℹ 13 variables: Title &lt;chr&gt;, PMID &lt;int&gt;, Year &lt;int&gt;, Month &lt;chr&gt;, DOI &lt;chr&gt;,
#   Abstract &lt;chr&gt;, Full_Author_Name &lt;chr&gt;, Author_Address &lt;chr&gt;,
#   Language &lt;chr&gt;, Publication_Type &lt;chr&gt;, Journal_name_short &lt;chr&gt;,
#   Conflict_of_Interest_Statement &lt;chr&gt;, Journal_Title &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Have a look at duplicates were just the title, journal and year are the same:</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>results_work2 <span class="sc">%&gt;%</span> </span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Title, </span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>           Journal_name_short, </span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>           Year) <span class="sc">%&gt;%</span> </span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">n</span>()<span class="sc">&gt;</span><span class="dv">1</span>)<span class="co"># None</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 13
# Groups:   Title, Journal_name_short, Year [0]
# ℹ 13 variables: Title &lt;chr&gt;, PMID &lt;int&gt;, Year &lt;int&gt;, Month &lt;chr&gt;, DOI &lt;chr&gt;,
#   Abstract &lt;chr&gt;, Full_Author_Name &lt;chr&gt;, Author_Address &lt;chr&gt;,
#   Language &lt;chr&gt;, Publication_Type &lt;chr&gt;, Journal_name_short &lt;chr&gt;,
#   Conflict_of_Interest_Statement &lt;chr&gt;, Journal_Title &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Upon manual inspection of the dataset, there appears to be one study with the title "Overearning"  which doesn't seem to meet my criteria for inclusion.  Therefore, let's remove this here:</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Visually inspect for duplicates/Check results:</span></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a><span class="co"># View(results_work2)</span></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>results_work2_relevent <span class="ot">&lt;-</span> results_work2 <span class="sc">%&gt;%</span> </span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>   <span class="fu">filter</span>(Title <span class="sc">!=</span> <span class="st">"Overearning."</span>) <span class="co"># There is a "." at the end of the total in the extracted data for some reason</span></span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Confirming that I have checked this reduces the number of studies by 1.</span></span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-11"><a href="#cb78-11" aria-hidden="true" tabindex="-1"></a><span class="co">#  Okay, now we are confident that we have a clean dataset, let's explore!</span></span>
<span id="cb78-12"><a href="#cb78-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-13"><a href="#cb78-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary of the Year  variable:</span></span>
<span id="cb78-14"><a href="#cb78-14" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(results_work2_relevent<span class="sc">$</span>Year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   1979    2014    2018    2015    2021    2023 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Number of publications per year:</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>work_hist<span class="ot">&lt;-</span> <span class="fu">hist</span>(results_work2_relevent<span class="sc">$</span>Year,</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">1960</span>,<span class="dv">2023</span>),</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="dv">40</span>,</span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">main =</span> <span class="st">"Papers published per year on Work Addiction (PubMed)"</span>,</span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">xlab =</span> <span class="st">"Year"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PubMed-Article-Extraction-Using-rentrez_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Number of separate journals:</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>results_work2_relevent <span class="sc">%&gt;%</span> </span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(Journal_name_short) <span class="sc">%&gt;%</span> </span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Journal_name_short) <span class="sc">%&gt;%</span> </span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 119 × 1
   Journal_name_short   
   &lt;chr&gt;                
 1 AORN J               
 2 Acta Psychol (Amst)  
 3 Addict Behav Rep     
 4 Adicciones           
 5 Am J Med             
 6 Anxiety Stress Coping
 7 Assessment           
 8 Aust N Z J Psychiatry
 9 BMJ Open             
10 BMJ Qual Saf         
11 Behav Sci (Basel)    
12 CNS Spectr           
13 Chronobiol Int       
14 Cien Saude Colet     
15 Cienc Trab           
16 Einstein (Sao Paulo) 
17 Electron Physician   
18 Encephale            
19 Eur Addict Res       
20 Eur J Psychol        
# ℹ 99 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Most popular journals:</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>results_work2_relevent <span class="sc">%&gt;%</span> </span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Journal_name_short) <span class="sc">%&gt;%</span> </span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>()</span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 119 × 2
   Journal_name_short                  n
   &lt;chr&gt;                           &lt;int&gt;
 1 Int J Environ Res Public Health    31
 2 Front Psychol                      20
 3 J Behav Addict                     20
 4 Psychol Rep                        15
 5 Ind Health                          9
 6 J Occup Health Psychol              6
 7 Work                                6
 8 Med Pr                              5
 9 PLoS One                            5
10 Encephale                           4
11 Eur J Psychol                       4
12 Front Public Health                 4
13 Int J Behav Med                     4
14 J Occup Environ Med                 4
15 J Pers Assess                       4
16 Soc Sci Med                         4
17 Stress Health                       4
18 Int J Occup Med Environ Health      3
19 J Psychol                           3
20 Occup Med (Lond)                    3
# ℹ 99 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Now I need to add a label to all of these studies to signify that they Were returned from the work search so that we can distinguish them from other studies results_work2 we later joined the datasets together:</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>Label_work <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">"work"</span>, <span class="at">times =</span> <span class="fu">count</span>(results_work2_relevent))</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a>results_work_final <span class="ot">&lt;-</span> results_work2_relevent <span class="sc">%&gt;%</span> </span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_cols</span>(Label_work) <span class="sc">%&gt;%</span></span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Label =</span> <span class="dv">14</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-8"><a href="#cb85-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...14`</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 274 × 14
   Title         PMID  Year Month DOI   Abstract Full_Author_Name Author_Address
   &lt;chr&gt;        &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;            &lt;chr&gt;         
 1 The social… 3.74e7  2023 Jun   10.1… "Workah… Negura, Lilian;… "University o…
 2 Validity a… 3.72e7  2023 &lt;NA&gt;  10.3… "BACKGR… Liu, Yuanyuan; … "Department o…
 3 Effects of… 3.72e7  2023 May   bmjq… "OBJECT… Maisonneuve, Fr… "Human Resour…
 4 Work addic… 3.71e7  2023 &lt;NA&gt;  10.3… "INTROD… Bereznowski, Pi… "Faculty of S…
 5 Severity o… 3.69e7  2023 Jun   10.1… "INTROD… Peter, Lea; Pak… "Department o…
 6 The Role o… 3.69e7  2023 Mar   10.3… "The cu… Morkeviciute, M… "Department o…
 7 How and Wh… 3.67e7  2023 Jan   10.3… "Althou… Sommovigo, Vale… "Department o…
 8 Associatio… 3.66e7  2022 &lt;NA&gt;  10.3… "INTROD… Wettstein, Alex… "Department o…
 9 Effect of … 3.66e7  2023 May   10.1… "AIM: T… Xie, Lin-Li; Ji… "University o…
10 Validity o… 3.65e7  2022 Dec   10.1… "There … Seretis, Dionys… "Department o…
# ℹ 264 more rows
# ℹ 6 more variables: Language &lt;chr&gt;, Publication_Type &lt;chr&gt;,
#   Journal_name_short &lt;chr&gt;, Conflict_of_Interest_Statement &lt;chr&gt;,
#   Journal_Title &lt;chr&gt;, Label &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View(results_work_final)</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Now save the cleaned results</span></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(results_work_final, <span class="st">"Data extraction/work_data_cleaned.csv"</span>, <span class="at">row.names=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="exercise-addiction" class="level2">
<h2 class="anchored" data-anchor-id="exercise-addiction">Exercise addiction</h2>
<section id="extract-studies-and-perform-a-basic-clean-of-dataset-3" class="level4">
<h4 class="anchored" data-anchor-id="extract-studies-and-perform-a-basic-clean-of-dataset-3">Extract studies and perform a basic clean of dataset</h4>
<p><strong>Notes pre-search:</strong> No MeSH terms for this, so I looked up the most recent systematic review on the topic that I could find (https://doi.org/10.1007/s11469-021-00568-1) and then examine their search strategy. They use the following terms: exercise addiction, exercise dependence, compulsory exercise, obligatory exercis</p>
<p><strong>Actual search used:</strong> ((((“Exercise addiction”[Title/Abstract]) OR (“exercise dependence”[Title/Abstract])) OR (“compulsory exercise”[Title/Abstract])) OR (“obligatory exercise”[Title/Abstract])) OR (“Addiction to exercise”[Title/Abstract])</p>
<p><strong>Manual search results:</strong> <a href="https://pubmed.ncbi.nlm.nih.gov/?term=%28%28%28%28%22Exercise+addiction%22%5BTitle%2FAbstract%5D%29+OR+%28%22exercise+dependence%22%5BTitle%2FAbstract%5D%29%29+OR+%28%22compulsory+exercise%22%5BTitle%2FAbstract%5D%29%29+OR+%28%22obligatory+exercise%22%5BTitle%2FAbstract%5D%29%29+OR+%28%22Addiction+to+exercise%22%5BTitle%2FAbstract%5D%29&amp;size=200">link</a></p>
<p><strong>Notes post-search:</strong>I manually inspected all of the results returned on PubMed. The search term ” compulsory exercise” is slightly problematic for this search as it sometimes used in the context of exercise rehabilitation/animal studies. The following studies were found to be not relevant:</p>
<ul>
<li><p>“[Doping in sports].”</p></li>
<li><p>“Psychoeducation: a basic psychotherapeutic intervention for patients with schizophrenia and their families.”</p></li>
<li><p>“Metabolic response to fasting in experimental intrauterine growth retardation induced by surgical and nonsurgical maternal stress.”</p></li>
<li><p>“[Arguments in favor of Integrated Health Care as regular health care provision in cardiology].”</p></li>
<li><p>“[What can a chair on alternatives to animal experimentation effectuate?].”</p></li>
<li><p>“Mandatory Physical Education Classes of Two Hours per Week Can Be Comparable to Losing More than Five Kilograms for Chinese College Students.”</p></li>
<li><p>“Degeneration of dystrophic or injured skeletal muscles induces high expression of Galectin-1.”</p></li>
<li><p>“A Pilot Study of a 12-Week Leg Exercise and a 6- and 12-Month Follow-Up in Community-Dwelling Diabetic Elders: Effect on Dynamic Standing Balance.”</p></li>
<li><p>“Opposite effects of catalase and MnSOD ectopic expression on stress induced defects and mortality in the desmin deficient cardiomyopathy model.”</p></li>
<li><p>“Beef extract supplementation increases leg muscle mass and modifies skeletal muscle fiber types in rats.”</p></li>
<li><p>“Does exercise deprivation increase the tendency towards morphine dependence in rats?.”</p></li>
<li><p>“A Polymeric Bilayer Multi-Legged Soft Millirobot with Dual Actuation and Humidity Sensing.”</p>
<h1 id="exclude-the-above-studies-from-the-final-dataset">EXCLUDE THE ABOVE STUDIES FROM THE FINAL DATASET!</h1></li>
</ul>
<div class="sourceCode" id="cb89"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="co">#  Clean environment:</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the search term:</span></span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>search_term_exercise <span class="ot">&lt;-</span> <span class="st">'(((("Exercise addiction"[Title/Abstract]) OR ("exercise dependence"[Title/Abstract])) OR ("compulsory exercise"[Title/Abstract])) OR ("obligatory exercise"[Title/Abstract])) OR ("Addiction to exercise"[Title/Abstract])'</span></span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Use entrez_search to get the IDs of the articles:</span></span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a>search_results_exercise <span class="ot">&lt;-</span> <span class="fu">entrez_search</span>(<span class="at">db=</span><span class="st">"pubmed"</span>, <span class="at">term=</span>search_term_exercise, <span class="at">retmax=</span><span class="dv">20000</span>)</span>
<span id="cb89-10"><a href="#cb89-10" aria-hidden="true" tabindex="-1"></a>id_list_exercise <span class="ot">&lt;-</span> search_results_exercise<span class="sc">$</span>ids</span>
<span id="cb89-11"><a href="#cb89-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-12"><a href="#cb89-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Split id list into chunks of 500:</span></span>
<span id="cb89-13"><a href="#cb89-13" aria-hidden="true" tabindex="-1"></a>chunks <span class="ot">&lt;-</span> <span class="fu">split</span>(id_list_exercise, <span class="fu">ceiling</span>(<span class="fu">seq_along</span>(id_list_exercise)<span class="sc">/</span><span class="dv">100</span>))</span>
<span id="cb89-14"><a href="#cb89-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-15"><a href="#cb89-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Fetch details for each chunk of articles:</span></span>
<span id="cb89-16"><a href="#cb89-16" aria-hidden="true" tabindex="-1"></a>article_details_exercise <span class="ot">&lt;-</span> <span class="fu">map_dfr</span>(chunks, <span class="cf">function</span>(ids) {</span>
<span id="cb89-17"><a href="#cb89-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fetch details of the articles:</span></span>
<span id="cb89-18"><a href="#cb89-18" aria-hidden="true" tabindex="-1"></a>  articles <span class="ot">&lt;-</span> <span class="fu">entrez_fetch</span>(<span class="at">db=</span><span class="st">"pubmed"</span>, <span class="at">id=</span>ids, <span class="at">rettype=</span><span class="st">"medline"</span>, <span class="at">retmode=</span><span class="st">"text"</span>)</span>
<span id="cb89-19"><a href="#cb89-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb89-20"><a href="#cb89-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Split the articles into individual articles:</span></span>
<span id="cb89-21"><a href="#cb89-21" aria-hidden="true" tabindex="-1"></a>  articles <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(articles, <span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)[[<span class="dv">1</span>]]</span>
<span id="cb89-22"><a href="#cb89-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb89-23"><a href="#cb89-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Process each article:</span></span>
<span id="cb89-24"><a href="#cb89-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map_dfr</span>(articles, <span class="cf">function</span>(article) {</span>
<span id="cb89-25"><a href="#cb89-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Split the article into lines:</span></span>
<span id="cb89-26"><a href="#cb89-26" aria-hidden="true" tabindex="-1"></a>    lines <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(article, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)[[<span class="dv">1</span>]]</span>
<span id="cb89-27"><a href="#cb89-27" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb89-28"><a href="#cb89-28" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get the details we're interested in:</span></span>
<span id="cb89-29"><a href="#cb89-29" aria-hidden="true" tabindex="-1"></a>    details_exercise <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb89-30"><a href="#cb89-30" aria-hidden="true" tabindex="-1"></a>      <span class="at">PMID =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^PMID"</span>, lines))) lines[<span class="fu">grepl</span>(<span class="st">"^PMID"</span>, lines)] <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb89-31"><a href="#cb89-31" aria-hidden="true" tabindex="-1"></a>      <span class="at">DP =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^DP"</span>, lines))) lines[<span class="fu">grepl</span>(<span class="st">"^DP"</span>, lines)] <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb89-32"><a href="#cb89-32" aria-hidden="true" tabindex="-1"></a>      <span class="at">TI =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^TI"</span>, lines))) lines[<span class="fu">grepl</span>(<span class="st">"^TI"</span>, lines)] <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb89-33"><a href="#cb89-33" aria-hidden="true" tabindex="-1"></a>      <span class="at">LID =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^LID"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^LID"</span>, lines)], <span class="at">collapse=</span><span class="st">"; "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb89-34"><a href="#cb89-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">AB =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^AB"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^AB"</span>, lines)], <span class="at">collapse=</span><span class="st">" "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb89-35"><a href="#cb89-35" aria-hidden="true" tabindex="-1"></a>      <span class="at">FAU =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^FAU"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^FAU"</span>, lines)], <span class="at">collapse=</span><span class="st">"; "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb89-36"><a href="#cb89-36" aria-hidden="true" tabindex="-1"></a>      <span class="at">AD =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^AD"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^AD"</span>, lines)], <span class="at">collapse=</span><span class="st">"; "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb89-37"><a href="#cb89-37" aria-hidden="true" tabindex="-1"></a>      <span class="at">LA =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^LA"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^LA"</span>, lines)], <span class="at">collapse=</span><span class="st">"; "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb89-38"><a href="#cb89-38" aria-hidden="true" tabindex="-1"></a>      <span class="at">PT =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^PT"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^PT"</span>, lines)], <span class="at">collapse=</span><span class="st">"; "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb89-39"><a href="#cb89-39" aria-hidden="true" tabindex="-1"></a>      <span class="at">TA =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^TA"</span>, lines))) lines[<span class="fu">grepl</span>(<span class="st">"^TA"</span>, lines)] <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb89-40"><a href="#cb89-40" aria-hidden="true" tabindex="-1"></a>      <span class="at">COIS =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^COIS"</span>, lines))) <span class="fu">paste</span>(lines[<span class="fu">grepl</span>(<span class="st">"^COIS"</span>, lines)], <span class="at">collapse=</span><span class="st">" "</span>) <span class="cf">else</span> <span class="cn">NA</span>,</span>
<span id="cb89-41"><a href="#cb89-41" aria-hidden="true" tabindex="-1"></a>      <span class="at">JT =</span> <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"^JT"</span>, lines))) lines[<span class="fu">grepl</span>(<span class="st">"^JT"</span>, lines)] <span class="cf">else</span> <span class="cn">NA</span></span>
<span id="cb89-42"><a href="#cb89-42" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb89-43"><a href="#cb89-43" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb89-44"><a href="#cb89-44" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convert the list of details into a one-row data frame:</span></span>
<span id="cb89-45"><a href="#cb89-45" aria-hidden="true" tabindex="-1"></a>    details_df_exercise <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(details_exercise)</span>
<span id="cb89-46"><a href="#cb89-46" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb89-47"><a href="#cb89-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(details_df_exercise)</span>
<span id="cb89-48"><a href="#cb89-48" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb89-49"><a href="#cb89-49" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb89-50"><a href="#cb89-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-51"><a href="#cb89-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the results:</span></span>
<span id="cb89-52"><a href="#cb89-52" aria-hidden="true" tabindex="-1"></a>article_details_exercise <span class="sc">%&gt;%</span></span>
<span id="cb89-53"><a href="#cb89-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb89-54"><a href="#cb89-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span>
<span id="cb89-55"><a href="#cb89-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-56"><a href="#cb89-56" aria-hidden="true" tabindex="-1"></a><span class="co"># Let's remove the identifiers at the beginning of each data point:</span></span>
<span id="cb89-57"><a href="#cb89-57" aria-hidden="true" tabindex="-1"></a>rep_str <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'PMID- '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'DP  - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'TI  - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'LID - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'AB  - '</span> <span class="ot">=</span> <span class="st">''</span>,</span>
<span id="cb89-58"><a href="#cb89-58" aria-hidden="true" tabindex="-1"></a>             <span class="st">'FAU - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'AD  - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'LA  - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'PT  - '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'TA  - '</span> <span class="ot">=</span> <span class="st">''</span>,</span>
<span id="cb89-59"><a href="#cb89-59" aria-hidden="true" tabindex="-1"></a>             <span class="st">'COIS- '</span> <span class="ot">=</span> <span class="st">''</span>, <span class="st">'JT  - '</span> <span class="ot">=</span> <span class="st">''</span>)</span>
<span id="cb89-60"><a href="#cb89-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-61"><a href="#cb89-61" aria-hidden="true" tabindex="-1"></a>results_exercise <span class="ot">&lt;-</span> article_details_exercise <span class="sc">%&gt;%</span></span>
<span id="cb89-62"><a href="#cb89-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), <span class="sc">~</span><span class="fu">str_replace_all</span>(., rep_str))) <span class="sc">%&gt;%</span> <span class="co"># Remove identifiers</span></span>
<span id="cb89-63"><a href="#cb89-63" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Now separate the date year and month/day info:</span></span>
<span id="cb89-64"><a href="#cb89-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(DP, <span class="fu">c</span>(<span class="st">"Year"</span>, <span class="st">"Month"</span>), <span class="at">sep =</span> <span class="st">"</span><span class="sc">\\</span><span class="st"> "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb89-65"><a href="#cb89-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">as.numeric</span>(Year)) <span class="sc">%&gt;%</span> <span class="co"># Convert Year to numeric</span></span>
<span id="cb89-66"><a href="#cb89-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="co"># Let's also provide more descriptive names for each of the columns</span></span>
<span id="cb89-67"><a href="#cb89-67" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Title"</span> <span class="ot">=</span> <span class="st">"TI"</span>, </span>
<span id="cb89-68"><a href="#cb89-68" aria-hidden="true" tabindex="-1"></a>         <span class="st">"DOI"</span> <span class="ot">=</span> <span class="st">"LID"</span>, </span>
<span id="cb89-69"><a href="#cb89-69" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Abstract"</span> <span class="ot">=</span> <span class="st">"AB"</span>, </span>
<span id="cb89-70"><a href="#cb89-70" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Full_Author_Name"</span> <span class="ot">=</span> <span class="st">"FAU"</span>, </span>
<span id="cb89-71"><a href="#cb89-71" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Author_Address"</span> <span class="ot">=</span> <span class="st">"AD"</span>, </span>
<span id="cb89-72"><a href="#cb89-72" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Language"</span> <span class="ot">=</span> <span class="st">"LA"</span>, </span>
<span id="cb89-73"><a href="#cb89-73" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Publication_Type"</span> <span class="ot">=</span> <span class="st">"PT"</span>, </span>
<span id="cb89-74"><a href="#cb89-74" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Journal_name_short"</span> <span class="ot">=</span> <span class="st">"TA"</span>,</span>
<span id="cb89-75"><a href="#cb89-75" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Conflict_of_Interest_Statement"</span> <span class="ot">=</span> <span class="st">"COIS"</span>,</span>
<span id="cb89-76"><a href="#cb89-76" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Journal_Title"</span> <span class="ot">=</span> <span class="st">"JT"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb89-77"><a href="#cb89-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span>
<span id="cb89-78"><a href="#cb89-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-79"><a href="#cb89-79" aria-hidden="true" tabindex="-1"></a><span class="co"># Now save the initial results before proceeding so we can't lose them!</span></span>
<span id="cb89-80"><a href="#cb89-80" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(results_exercise, <span class="st">"Data extraction/exercise_data.csv"</span>, <span class="at">row.names=</span><span class="cn">FALSE</span>)</span>
<span id="cb89-81"><a href="#cb89-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-82"><a href="#cb89-82" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="extract-full-title-using-rvest-3" class="level4">
<h4 class="anchored" data-anchor-id="extract-full-title-using-rvest-3">Extract full title using rvest</h4>
<p>Again, we’re going to use the <code>rvest</code> package to scrape the titles returned from the manual search in PubMed, then join the two datasets using the PMID, retaining the title from this new dataset.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Add search URL:</span></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>url_exercise_rvest <span class="ot">&lt;-</span> <span class="st">"https://pubmed.ncbi.nlm.nih.gov/?term=%28%28%28%28%22Exercise+addiction%22%5BTitle%2FAbstract%5D%29+OR+%28%22exercise+dependence%22%5BTitle%2FAbstract%5D%29%29+OR+%28%22compulsory+exercise%22%5BTitle%2FAbstract%5D%29%29+OR+%28%22obligatory+exercise%22%5BTitle%2FAbstract%5D%29%29+OR+%28%22Addiction+to+exercise%22%5BTitle%2FAbstract%5D%29&amp;size=200"</span> <span class="co"># 386 results returned on 10/07/2023</span></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Read and parse the webpage</span></span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>webpage_exercise_rvest <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url_exercise_rvest)</span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the total number of search results</span></span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>results_count_exercise <span class="ot">&lt;-</span> webpage_exercise_rvest <span class="sc">%&gt;%</span></span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_node</span>(<span class="st">".results-amount .value"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_text</span>() <span class="sc">%&gt;%</span></span>
<span id="cb90-12"><a href="#cb90-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace</span>(<span class="st">","</span>, <span class="st">""</span>) <span class="sc">%&gt;%</span></span>
<span id="cb90-13"><a href="#cb90-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.numeric</span>()</span>
<span id="cb90-14"><a href="#cb90-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-15"><a href="#cb90-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the number of pages</span></span>
<span id="cb90-16"><a href="#cb90-16" aria-hidden="true" tabindex="-1"></a>results_per_page_exercise <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb90-17"><a href="#cb90-17" aria-hidden="true" tabindex="-1"></a>total_pages_exercise <span class="ot">&lt;-</span> <span class="fu">ceiling</span>(results_count_exercise[<span class="dv">1</span>] <span class="sc">/</span> results_per_page_exercise)</span>
<span id="cb90-18"><a href="#cb90-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Print results_count_exercise and total_pages_exercise</span></span>
<span id="cb90-19"><a href="#cb90-19" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(results_count_exercise)</span>
<span id="cb90-20"><a href="#cb90-20" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(total_pages_exercise)</span>
<span id="cb90-21"><a href="#cb90-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-22"><a href="#cb90-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-23"><a href="#cb90-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize an empty data frame</span></span>
<span id="cb90-24"><a href="#cb90-24" aria-hidden="true" tabindex="-1"></a>results_exercise_rvest <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb90-25"><a href="#cb90-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-26"><a href="#cb90-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through each page and scrape the data</span></span>
<span id="cb90-27"><a href="#cb90-27" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (page <span class="cf">in</span> <span class="dv">0</span><span class="sc">:</span>(total_pages_exercise <span class="sc">-</span> <span class="dv">1</span>)) {</span>
<span id="cb90-28"><a href="#cb90-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Update the page parameter in the URL for the current page</span></span>
<span id="cb90-29"><a href="#cb90-29" aria-hidden="true" tabindex="-1"></a>  current_url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(url_exercise_rvest, <span class="st">"&amp;page="</span>, page <span class="sc">+</span> <span class="dv">1</span>)</span>
<span id="cb90-30"><a href="#cb90-30" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb90-31"><a href="#cb90-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read and parse the current webpage</span></span>
<span id="cb90-32"><a href="#cb90-32" aria-hidden="true" tabindex="-1"></a>  current_page <span class="ot">&lt;-</span> <span class="fu">read_html</span>(current_url)</span>
<span id="cb90-33"><a href="#cb90-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb90-34"><a href="#cb90-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract title</span></span>
<span id="cb90-35"><a href="#cb90-35" aria-hidden="true" tabindex="-1"></a>  Title <span class="ot">&lt;-</span> <span class="fu">tryCatch</span>({</span>
<span id="cb90-36"><a href="#cb90-36" aria-hidden="true" tabindex="-1"></a>    current_page <span class="sc">%&gt;%</span></span>
<span id="cb90-37"><a href="#cb90-37" aria-hidden="true" tabindex="-1"></a>      <span class="fu">html_nodes</span>(<span class="st">".docsum-title"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb90-38"><a href="#cb90-38" aria-hidden="true" tabindex="-1"></a>      <span class="fu">html_text</span>(<span class="at">trim =</span> <span class="cn">TRUE</span>)</span>
<span id="cb90-39"><a href="#cb90-39" aria-hidden="true" tabindex="-1"></a>  }, <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb90-40"><a href="#cb90-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Error extracting title info on page"</span>, page <span class="sc">+</span> <span class="dv">1</span>))</span>
<span id="cb90-41"><a href="#cb90-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="fu">length</span>(Title))  <span class="co"># Return a vector of NAs with the same length as Title</span></span>
<span id="cb90-42"><a href="#cb90-42" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb90-43"><a href="#cb90-43" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb90-44"><a href="#cb90-44" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract the PMID</span></span>
<span id="cb90-45"><a href="#cb90-45" aria-hidden="true" tabindex="-1"></a>  pmid <span class="ot">&lt;-</span> current_page <span class="sc">%&gt;%</span></span>
<span id="cb90-46"><a href="#cb90-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_nodes</span>(<span class="st">".docsum-pmid"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb90-47"><a href="#cb90-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_text</span>(<span class="at">trim =</span> <span class="cn">TRUE</span>)</span>
<span id="cb90-48"><a href="#cb90-48" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb90-49"><a href="#cb90-49" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a data frame with the extracted data</span></span>
<span id="cb90-50"><a href="#cb90-50" aria-hidden="true" tabindex="-1"></a>  current_results_exercise <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Title =</span> Title,</span>
<span id="cb90-51"><a href="#cb90-51" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">PMID =</span> pmid)</span>
<span id="cb90-52"><a href="#cb90-52" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb90-53"><a href="#cb90-53" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Combine the current results with the previous results</span></span>
<span id="cb90-54"><a href="#cb90-54" aria-hidden="true" tabindex="-1"></a>  results_exercise_rvest <span class="ot">&lt;-</span> <span class="fu">rbind</span>(results_exercise_rvest, current_results_exercise)</span>
<span id="cb90-55"><a href="#cb90-55" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb90-56"><a href="#cb90-56" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Introduce a delay to avoid overloading the server</span></span>
<span id="cb90-57"><a href="#cb90-57" aria-hidden="true" tabindex="-1"></a>  sleep_time <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">1</span>, <span class="at">min =</span> <span class="dv">5</span>, <span class="at">max =</span> <span class="dv">15</span>)</span>
<span id="cb90-58"><a href="#cb90-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">Sys.sleep</span>(sleep_time)</span>
<span id="cb90-59"><a href="#cb90-59" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb90-60"><a href="#cb90-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-61"><a href="#cb90-61" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the extracted data</span></span>
<span id="cb90-62"><a href="#cb90-62" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">as_tibble</span>(results_exercise_rvest))</span>
<span id="cb90-63"><a href="#cb90-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-64"><a href="#cb90-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-65"><a href="#cb90-65" aria-hidden="true" tabindex="-1"></a><span class="co"># Now save the titles before proceeding so we can't lose them!</span></span>
<span id="cb90-66"><a href="#cb90-66" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(results_exercise_rvest, <span class="st">"Data extraction/exercise_titles.csv"</span>, <span class="at">row.names=</span><span class="cn">FALSE</span>)</span>
<span id="cb90-67"><a href="#cb90-67" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="refine-dataset-3" class="level4">
<h4 class="anchored" data-anchor-id="refine-dataset-3">Refine dataset</h4>
<p>Now we need to identify and remove any duplicates, irrelevant studies, or entries with any other issues (e.g., those that turn out to be books)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load in first dataset in case environment clean on knit (above sections not executed for render):</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>results_exercise<span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Data extraction/exercise_data.csv"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>()</span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Load in second dataset in case environment clean on knit (above sections not executed for render):</span></span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>results_exercise_rvest<span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Data extraction/exercise_titles.csv"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>()</span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-9"><a href="#cb91-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge our two datasets</span></span>
<span id="cb91-10"><a href="#cb91-10" aria-hidden="true" tabindex="-1"></a>results_exercise2 <span class="ot">&lt;-</span> results_exercise <span class="sc">%&gt;%</span></span>
<span id="cb91-11"><a href="#cb91-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb91-12"><a href="#cb91-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"Title_trunc"</span> <span class="ot">=</span> <span class="st">"Title"</span>) <span class="sc">%&gt;%</span> <span class="co"># Designate the truncated title from our primary dataset so we can remove it once we get the full title</span></span>
<span id="cb91-13"><a href="#cb91-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(results_exercise_rvest, <span class="at">by =</span> <span class="st">"PMID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb91-14"><a href="#cb91-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Title_trunc) <span class="sc">%&gt;%</span> <span class="co"># Bye truncated title</span></span>
<span id="cb91-15"><a href="#cb91-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(Title) <span class="sc">%&gt;%</span> <span class="co"># Place full title first for ease</span></span>
<span id="cb91-16"><a href="#cb91-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 386 × 13
   Title         PMID  Year Month DOI   Abstract Full_Author_Name Author_Address
   &lt;chr&gt;        &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;            &lt;chr&gt;         
 1 The Expand… 3.74e7  2023 May   10.1… "Exerci… Granziol, Umber… "Via Venezia …
 2 Classifyin… 3.74e7  2023 Jun   10.1… "OBJECT… Cosh, Suzanne M… "School of Ps…
 3 Effects of… 3.73e7  2023 &lt;NA&gt;  10.2… "PURPOS… Wu, Ruoshan; Ji… "School of Ph…
 4 Ready, set… 3.73e7  2023 Jul   S000… "Alexit… Sweetnam, Taylo… "Behavioural …
 5 Compulsive… 3.73e7  2023 May   S144… "OBJECT… Cosh, S M; McNe… "School of Ps…
 6 Embodying … 3.72e7  2023 Jun   S027… "Exerci… Moreau, Nicolas… "University o…
 7 Investigat… 3.72e7  2023 May   10.1… "BACKGR… Scarth, Morgan;… "Anabolic And…
 8 Understand… 3.72e7  2023 Feb   10.1… "Irrati… Miller, Anthony… "Department o…
 9 Sociocultu… 3.71e7  2023 &lt;NA&gt;  10.3… "BACKGR… Guo, Shuai; Izy… "Faculty of S…
10 The mediat… 3.71e7  2023 Apr   10.1… "BACKGR… Rahme, Deema; D… "Pharmacy Pra…
# ℹ 376 more rows
# ℹ 5 more variables: Language &lt;chr&gt;, Publication_Type &lt;chr&gt;,
#   Journal_name_short &lt;chr&gt;, Conflict_of_Interest_Statement &lt;chr&gt;,
#   Journal_Title &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check results:</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="co"># View(results_exercise2)</span></span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Total number with basic duplication removal based on title:</span></span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>Simple_duplicate_removal_n <span class="ot">&lt;-</span> results_exercise2 <span class="sc">%&gt;%</span></span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(Title) <span class="sc">%&gt;%</span></span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>() <span class="co"># n = 2 dupes (jUly 2023)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
      n
  &lt;int&gt;
1   384</code></pre>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show duplicate:</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>results_exercise2 <span class="sc">%&gt;%</span> </span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Title) <span class="sc">%&gt;%</span> </span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">n</span>()<span class="sc">&gt;</span><span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># View()</span></span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>() <span class="co"># These all have different PMIDs, DOIs, authors, and years</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 13
# Groups:   Title [2]
  Title          PMID  Year Month DOI   Abstract Full_Author_Name Author_Address
  &lt;chr&gt;         &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;            &lt;chr&gt;         
1 Exercise ad… 2.33e7  2013 Feb   10.1… "This a… Landolfi, Emilio "Department o…
2 Exercise ad… 2.33e7  2004 Jul   virt…  &lt;NA&gt;    Shangold, Mona … "Center for W…
3 Exercise de… 3.40e6  1988 Apr   &lt;NA&gt;   &lt;NA&gt;    Dewsnap, P A      &lt;NA&gt;         
4 Exercise de… 3.31e6  1987 Jul   &lt;NA&gt;   &lt;NA&gt;    de Coverley Vea…  &lt;NA&gt;         
# ℹ 5 more variables: Language &lt;chr&gt;, Publication_Type &lt;chr&gt;,
#   Journal_name_short &lt;chr&gt;, Conflict_of_Interest_Statement &lt;chr&gt;,
#   Journal_Title &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Have a look at duplicates where the title, year, and authors are all the same:</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>results_exercise2 <span class="sc">%&gt;%</span> </span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Title, </span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>           Journal_name_short, </span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>           Full_Author_Name) <span class="sc">%&gt;%</span> </span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">n</span>()<span class="sc">&gt;</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 13
# Groups:   Title, Journal_name_short, Full_Author_Name [0]
# ℹ 13 variables: Title &lt;chr&gt;, PMID &lt;int&gt;, Year &lt;int&gt;, Month &lt;chr&gt;, DOI &lt;chr&gt;,
#   Abstract &lt;chr&gt;, Full_Author_Name &lt;chr&gt;, Author_Address &lt;chr&gt;,
#   Language &lt;chr&gt;, Publication_Type &lt;chr&gt;, Journal_name_short &lt;chr&gt;,
#   Conflict_of_Interest_Statement &lt;chr&gt;, Journal_Title &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># print() #None</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Have a look at duplicates were just the title, journal and year are the same:</span></span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>results_exercise2 <span class="sc">%&gt;%</span> </span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Title, </span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>           Journal_name_short, </span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a>           Year) <span class="sc">%&gt;%</span> </span>
<span id="cb99-8"><a href="#cb99-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">n</span>()<span class="sc">&gt;</span><span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb99-9"><a href="#cb99-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>() <span class="co"># None</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 13
# Groups:   Title, Journal_name_short, Year [0]
# ℹ 13 variables: Title &lt;chr&gt;, PMID &lt;int&gt;, Year &lt;int&gt;, Month &lt;chr&gt;, DOI &lt;chr&gt;,
#   Abstract &lt;chr&gt;, Full_Author_Name &lt;chr&gt;, Author_Address &lt;chr&gt;,
#   Language &lt;chr&gt;, Publication_Type &lt;chr&gt;, Journal_name_short &lt;chr&gt;,
#   Conflict_of_Interest_Statement &lt;chr&gt;, Journal_Title &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="co">#  Okay, now we're confident we have a clean dataset, let's explore!</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary of the Year  variable:</span></span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(results_exercise2<span class="sc">$</span>Year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   1977    2011    2017    2015    2021    2023 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Number of publications per year:</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>exercise_hist<span class="ot">&lt;-</span> <span class="fu">hist</span>(results_exercise2<span class="sc">$</span>Year,</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">1960</span>,<span class="dv">2023</span>),</span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="dv">40</span>,</span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">main =</span> <span class="st">"Papers published per year on exercise Disorder (PubMed)"</span>,</span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">xlab =</span> <span class="st">"Year"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="PubMed-Article-Extraction-Using-rentrez_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Number of separate journals:</span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>results_exercise2 <span class="sc">%&gt;%</span> </span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(Journal_name_short) <span class="sc">%&gt;%</span> </span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Journal_name_short) <span class="sc">%&gt;%</span> </span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 160 × 1
   Journal_name_short      
   &lt;chr&gt;                   
 1 ALTEX                   
 2 Acta Psychol (Amst)     
 3 Addict Behav            
 4 Addict Behav Rep        
 5 Addict Health           
 6 Adicciones              
 7 Adolescence             
 8 Aging Male              
 9 Am J Addict             
10 Am J Health Behav       
11 Aust J Physiother       
12 Aust N Z J Psychiatry   
13 BMC Psychiatry          
14 BMC Public Health       
15 BMJ                     
16 BMJ Open Sport Exerc Med
17 Behav Sci (Basel)       
18 Biol Neonate            
19 Body Image              
20 Br J Addict             
# ℹ 140 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Most popular journals:</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>results_exercise2 <span class="sc">%&gt;%</span> </span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Journal_name_short) <span class="sc">%&gt;%</span> </span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>()</span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb106-7"><a href="#cb106-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb106-8"><a href="#cb106-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 160 × 2
   Journal_name_short                  n
   &lt;chr&gt;                           &lt;int&gt;
 1 J Behav Addict                     36
 2 Int J Environ Res Public Health    16
 3 Front Psychol                      13
 4 Int J Eat Disord                   12
 5 Eat Weight Disord                  11
 6 Percept Mot Skills                 11
 7 Eat Behav                          10
 8 J Sports Med Phys Fitness           9
 9 Addict Behav Rep                    8
10 Br J Sports Med                     8
11 Eur Eat Disord Rev                  8
12 Front Psychiatry                    7
13 Front Sports Act Living             7
14 J Eat Disord                        7
15 Body Image                          5
16 J Sports Sci                        5
17 Nutrients                           5
18 Psychiatry Res                      5
19 Compr Psychiatry                    4
20 J Sport Exerc Psychol               4
# ℹ 140 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View(results_exercise2) # Visually inspect results</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Now I need to add a label to all of these studies to signify that they Were returned from the exercise search so that we can distinguish them from other studies when we later joined the datasets together:</span></span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a>Label <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">"exercise"</span>, <span class="at">times =</span> <span class="fu">count</span>(results_exercise2))</span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-6"><a href="#cb108-6" aria-hidden="true" tabindex="-1"></a>results_exercise_final <span class="ot">&lt;-</span> results_exercise2 <span class="sc">%&gt;%</span> <span class="fu">bind_cols</span>(Label) <span class="sc">%&gt;%</span></span>
<span id="cb108-7"><a href="#cb108-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Label =</span> <span class="dv">14</span>) <span class="sc">%&gt;%</span></span>
<span id="cb108-8"><a href="#cb108-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...14`</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 386 × 14
   Title         PMID  Year Month DOI   Abstract Full_Author_Name Author_Address
   &lt;chr&gt;        &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;            &lt;chr&gt;         
 1 The Expand… 3.74e7  2023 May   10.1… "Exerci… Granziol, Umber… "Via Venezia …
 2 Classifyin… 3.74e7  2023 Jun   10.1… "OBJECT… Cosh, Suzanne M… "School of Ps…
 3 Effects of… 3.73e7  2023 &lt;NA&gt;  10.2… "PURPOS… Wu, Ruoshan; Ji… "School of Ph…
 4 Ready, set… 3.73e7  2023 Jul   S000… "Alexit… Sweetnam, Taylo… "Behavioural …
 5 Compulsive… 3.73e7  2023 May   S144… "OBJECT… Cosh, S M; McNe… "School of Ps…
 6 Embodying … 3.72e7  2023 Jun   S027… "Exerci… Moreau, Nicolas… "University o…
 7 Investigat… 3.72e7  2023 May   10.1… "BACKGR… Scarth, Morgan;… "Anabolic And…
 8 Understand… 3.72e7  2023 Feb   10.1… "Irrati… Miller, Anthony… "Department o…
 9 Sociocultu… 3.71e7  2023 &lt;NA&gt;  10.3… "BACKGR… Guo, Shuai; Izy… "Faculty of S…
10 The mediat… 3.71e7  2023 Apr   10.1… "BACKGR… Rahme, Deema; D… "Pharmacy Pra…
# ℹ 376 more rows
# ℹ 6 more variables: Language &lt;chr&gt;, Publication_Type &lt;chr&gt;,
#   Journal_name_short &lt;chr&gt;, Conflict_of_Interest_Statement &lt;chr&gt;,
#   Journal_Title &lt;chr&gt;, Label &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View(results_exercise_final)</span></span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Now save the cleaned results</span></span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(results_exercise_final, <span class="st">"Data extraction/exercise_data_cleaned.csv"</span>, <span class="at">row.names=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>